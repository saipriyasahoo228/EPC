import{r,j as e}from"./main-DTv03d8r.js";import{C as R}from"./Close-BAEP8ymL.js";import{T as D,H as I,v as b,w as C,x as u,y as n,z as S,I as h,D as L,r as H,t as Y,q as P}from"./TableRow-DyRCyY9b.js";import{G as a}from"./Grid-C5mdLuvI.js";import{A as G}from"./AddCircle-Br8tjFgv.js";import{T as $}from"./TableContainer-DOhr4ZW5.js";import{E as q,D as z}from"./Edit-DGVU-IuU.js";import{D as U}from"./DialogActions-CMm5oWDU.js";import"./Transition-ChWAEdMD.js";const W=[{id:"2025-VND-001"},{id:"2025-VND-002"},{id:"2025-VND-003"}],ae=()=>{const[A,i]=r.useState(!1),[J,y]=r.useState(""),[l,c]=r.useState({}),[d,j]=r.useState([]),[p,m]=r.useState(!1),[N,f]=r.useState(null),[v,w]=r.useState(""),T=s=>{const g=`INV-${new Date().getFullYear()}-${(d.length+1).toString().padStart(3,"0")}`;y(s),c({invoiceId:g,vendorId:s,invoiceDate:"",dueDate:"",totalAmount:"",amountPaid:"",paymentStatus:"Pending",paymentMethod:"",approvalStatus:"",outstandingBalance:""}),m(!1),f(null),i(!0)},E=s=>{c(s),y(s.vendorId),m(!0),f(s.invoiceId),i(!0)},V=s=>{window.confirm("Are you sure you want to delete this invoice?")&&j(d.filter(t=>t.invoiceId!==s))},o=s=>{const{name:t,value:g}=s.target,x={...l,[t]:g};if(t==="totalAmount"||t==="amountPaid"){const O=parseFloat(x.totalAmount||0),F=parseFloat(x.amountPaid||0);x.outstandingBalance=(O-F).toFixed(2)}c(x)},k=(s,t)=>!s||t==="Paid"?!1:new Date(s)<new Date,B=()=>{j(p?d.map(s=>s.invoiceId===N?l:s):[...d,l]),i(!1),c({}),f(null),m(!1)},M=d.filter(s=>Object.values(s).some(t=>t==null?void 0:t.toString().toLowerCase().includes(v.toLowerCase())));return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"h5",gutterBottom:!0,sx:{mt:5},children:"Accounts Payable"}),e.jsxs(a,{container:!0,spacing:2,direction:"column",children:[e.jsx(a,{item:!0,xs:12,children:e.jsxs(I,{sx:{p:2},children:[e.jsx(D,{variant:"h6",children:"Vendor List"}),e.jsx("input",{type:"text",placeholder:"Search Vendor ID",value:v,onChange:s=>w(s.target.value),className:"input",style:{width:"100%",margin:"10px 0",padding:"8px",borderRadius:4}}),e.jsxs(b,{children:[e.jsx(C,{children:e.jsxs(u,{children:[e.jsx(n,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Vendor ID"})}),e.jsx(n,{sx:{display:"flex",justifyContent:"flex-end",color:"#660000"},children:e.jsx("strong",{children:"Action"})})]})}),e.jsx(S,{children:W.filter(s=>s.id.toLowerCase().includes(v.toLowerCase())).map((s,t)=>e.jsxs(u,{children:[e.jsx(n,{children:s.id}),e.jsx(n,{sx:{display:"flex",justifyContent:"flex-end"},children:e.jsx(h,{onClick:()=>T(s.id),color:"primary",children:e.jsx(G,{sx:{color:"#7267ef"}})})})]},t))})]})]})}),e.jsx(a,{item:!0,xs:12,children:e.jsxs(I,{sx:{p:2,mt:2},children:[e.jsx(D,{variant:"h6",children:"Payable Records"}),e.jsx($,{children:e.jsxs(b,{stickyHeader:!0,children:[e.jsx(C,{children:e.jsxs(u,{children:[e.jsx(n,{sx:{color:"#7267ef"},children:"Invoice ID"}),e.jsx(n,{sx:{color:"#7267ef"},children:"Vendor ID"}),e.jsx(n,{sx:{color:"#7267ef"},children:"Invoice Date"}),e.jsx(n,{sx:{color:"#7267ef"},children:"Due Date"}),e.jsx(n,{sx:{color:"#7267ef"},children:"Total Amount"}),e.jsx(n,{sx:{color:"#7267ef"},children:"Amount Paid"}),e.jsx(n,{sx:{color:"#7267ef"},children:"Outstanding"}),e.jsx(n,{sx:{color:"#7267ef"},children:"Status"}),e.jsx(n,{sx:{color:"#7267ef"},children:"Method"}),e.jsx(n,{sx:{color:"#7267ef"},children:"Approval"}),e.jsx(n,{sx:{color:"#660000"},children:"Actions"})]})}),e.jsx(S,{children:M.map((s,t)=>e.jsxs(u,{sx:{backgroundColor:k(s.dueDate,s.paymentStatus)?"#ffe6e6":"inherit"},children:[e.jsx(n,{children:s.invoiceId}),e.jsx(n,{children:s.vendorId}),e.jsx(n,{children:s.invoiceDate}),e.jsx(n,{children:s.dueDate}),e.jsx(n,{children:s.totalAmount}),e.jsx(n,{children:s.amountPaid}),e.jsx(n,{children:s.outstandingBalance}),e.jsx(n,{children:s.paymentStatus}),e.jsx(n,{children:s.paymentMethod}),e.jsx(n,{children:s.approvalStatus}),e.jsxs(n,{children:[e.jsx(h,{onClick:()=>E(s),color:"warning",children:e.jsx(q,{sx:{color:"orange"}})}),e.jsx(h,{onClick:()=>V(s.invoiceId),color:"error",children:e.jsx(z,{sx:{color:"red"}})})]})]},t))})]})})]})})]}),e.jsxs(L,{open:A,onClose:()=>i(!1),fullWidth:!0,children:[e.jsxs(H,{children:[p?"Edit Invoice Details":"New Invoice Entry",e.jsx(h,{"aria-label":"close",onClick:()=>i(!1),sx:{position:"absolute",right:8,top:8},children:e.jsx(R,{})})]}),e.jsx(Y,{children:e.jsxs(a,{container:!0,spacing:2,mt:1,children:[e.jsxs(a,{item:!0,xs:6,children:[e.jsx("label",{children:"Invoice ID"}),e.jsx("input",{className:"input",value:l.invoiceId||"",disabled:!0})]}),e.jsxs(a,{item:!0,xs:6,children:[e.jsx("label",{children:"Vendor ID"}),e.jsx("input",{className:"input",value:l.vendorId||"",disabled:!0})]}),e.jsxs(a,{item:!0,xs:6,children:[e.jsx("label",{children:"Invoice Date"}),e.jsx("input",{name:"invoiceDate",type:"date",className:"input",value:l.invoiceDate||"",onChange:o})]}),e.jsxs(a,{item:!0,xs:6,children:[e.jsx("label",{children:"Due Date"}),e.jsx("input",{name:"dueDate",type:"date",className:"input",value:l.dueDate||"",onChange:o})]}),e.jsxs(a,{item:!0,xs:6,children:[e.jsx("label",{children:"Total Amount"}),e.jsx("input",{name:"totalAmount",type:"number",className:"input",value:l.totalAmount||"",onChange:o})]}),e.jsxs(a,{item:!0,xs:6,children:[e.jsx("label",{children:"Amount Paid"}),e.jsx("input",{name:"amountPaid",type:"number",className:"input",value:l.amountPaid||"",onChange:o})]}),e.jsxs(a,{item:!0,xs:6,children:[e.jsx("label",{children:"Outstanding"}),e.jsx("input",{className:"input",value:l.outstandingBalance||"",disabled:!0})]}),e.jsxs(a,{item:!0,xs:6,children:[e.jsx("label",{children:"Payment Status"}),e.jsxs("select",{name:"paymentStatus",className:"input",value:l.paymentStatus,onChange:o,children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Paid",children:"Paid"}),e.jsx("option",{value:"Overdue",children:"Overdue"})]})]}),e.jsxs(a,{item:!0,xs:6,children:[e.jsx("label",{children:"Payment Method"}),e.jsx("input",{name:"paymentMethod",className:"input",value:l.paymentMethod||"",onChange:o})]}),e.jsxs(a,{item:!0,xs:6,children:[e.jsx("label",{children:"Approval Status"}),e.jsx("input",{name:"approvalStatus",className:"input",value:l.approvalStatus||"",onChange:o})]})]})}),e.jsxs(U,{children:[e.jsx(P,{onClick:()=>i(!1),sx:{outline:"2px solid #800000",color:"#800000"},children:"Cancel"}),e.jsx(P,{onClick:B,variant:"outlined",sx:{color:"#7267ef",borderColor:"#7267ef"},children:p?"Update":"Submit"})]})]})]})};export{ae as default};
