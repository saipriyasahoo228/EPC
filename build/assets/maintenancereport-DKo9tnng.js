import{r as i,j as e}from"./main-DTv03d8r.js";import{C as L}from"./Close-BAEP8ymL.js";import{T as D,H as y,v,w,x,y as s,z as R,I as h,D as G,r as Q,t as Y,q as k}from"./TableRow-DyRCyY9b.js";import{G as t}from"./Grid-C5mdLuvI.js";import{B as M}from"./Box-CyTnG5kx.js";import{A as $}from"./AddCircle-Br8tjFgv.js";import{T as q}from"./TableContainer-DOhr4ZW5.js";import{E as z,D as U}from"./Edit-DGVU-IuU.js";import{D as J}from"./DialogActions-CMm5oWDU.js";import"./Transition-ChWAEdMD.js";const K=[{id:"2025-AST-001"},{id:"2025-AST-002"},{id:"2025-AST-003"}],ae=()=>{const[C,T]=i.useState(""),[I,F]=i.useState(""),[N,p]=i.useState(!1),[O,b]=i.useState(""),[o,c]=i.useState({}),[l,u]=i.useState([]),[j,m]=i.useState(!1),[A,g]=i.useState(null),B=r=>{b(r);const n=new Date().getFullYear(),f=(l.length+1).toString().padStart(3,"0");c({workOrderID:`WO-${n}-${f}`,projectId:r}),m(!1),g(null),p(!0)},E=r=>{c(r),b(r.projectId),m(!0),g(r.workOrderID),p(!0)},W=r=>{window.confirm("Are you sure you want to delete maintenance  report!")&&u(l.filter(n=>n.workOrderID!==r))},d=()=>{p(!1),c({}),m(!1),g(null)},a=r=>{const{name:n,value:S}=r.target;c(f=>({...f,[n]:S}))},P=()=>{const r={...o};if(j)u(l.map(n=>n.workOrderID===A?r:n));else{const n={...r,projectId:O};u([...l,n])}d()},H=l.filter(r=>Object.values(r).some(n=>n&&n.toString().toLowerCase().includes(I.toLowerCase())));return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"h5",gutterBottom:!0,sx:{mt:5},children:"Maintenance Management Report"}),e.jsx(t,{container:!0,spacing:2,direction:"column",sx:{mb:2},children:e.jsx(t,{item:!0,xs:12,children:e.jsxs(y,{sx:{p:2,backgroundColor:"#fff",border:"1px solid #ccc"},children:[e.jsx(D,{variant:"h6",gutterBottom:!0,children:"ASSETS RECORDS"}),e.jsx(M,{sx:{my:2,mx:1},children:e.jsx("input",{type:"text",placeholder:"Search Asset ID",value:C,onChange:r=>T(r.target.value),className:"input",style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:4}})}),e.jsxs(v,{children:[e.jsx(w,{children:e.jsxs(x,{children:[e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Asset ID"})}),e.jsx(s,{sx:{display:"flex",justifyContent:"flex-end",color:"#660000"},children:e.jsx("strong",{children:"Action"})})]})}),e.jsx(R,{children:K.filter(r=>r.id.toLowerCase().includes(C.toLowerCase())).map((r,n)=>e.jsxs(x,{children:[e.jsx(s,{children:r.id}),e.jsx(s,{sx:{display:"flex",justifyContent:"flex-end"},children:e.jsx(h,{onClick:()=>B(r.id),color:"primary",children:e.jsx($,{sx:{color:"#7267ef"}})})})]},n))})]})]})})}),e.jsx(t,{container:!0,spacing:2,children:e.jsx(t,{item:!0,xs:12,children:e.jsxs(y,{sx:{p:2,backgroundColor:"#fff",border:"1px solid #ccc"},children:[e.jsx(D,{variant:"h6",gutterBottom:!0,children:"Maintenance Management Report"}),e.jsx("input",{type:"text",placeholder:"Search Maintenance Details",value:I,onChange:r=>F(r.target.value),className:"input",style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:4,marginBottom:"16px"}}),e.jsx(q,{sx:{maxHeight:400,overflow:"auto",border:"1px solid #ddd"},children:e.jsxs(v,{stickyHeader:!0,children:[e.jsx(w,{children:e.jsxs(x,{children:[e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Asset ID"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"WorkOrder ID"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Reported Issuees"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Report Date"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Inspection Date"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Technician ID"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Repair WorkDone"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Parts Replaced"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Total Maintenance Cost"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Completion Date"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Final Status"})}),e.jsx(s,{sx:{color:"#660000"},children:e.jsx("strong",{children:"Actions"})})]})}),e.jsx(R,{children:H.map((r,n)=>e.jsxs(x,{children:[e.jsx(s,{children:r.projectId}),e.jsx(s,{children:r.workOrderID}),e.jsx(s,{children:r.reportedIssue}),e.jsx(s,{children:r.reportDate}),e.jsx(s,{children:r.inspectionDate}),e.jsx(s,{children:r.technicianId}),e.jsx(s,{children:r.repairWorkDone}),e.jsx(s,{children:r.partsReplaced}),e.jsx(s,{children:r.totalMaintenanceCost}),e.jsx(s,{children:r.completionDate}),e.jsx(s,{children:r.finalStatus}),e.jsxs(s,{children:[e.jsx(h,{onClick:()=>E(r),color:"warning",children:e.jsx(z,{sx:{color:"orange"}})}),e.jsx(h,{onClick:()=>W(r.workOrderID),color:"error",children:e.jsx(U,{sx:{color:"red"}})})]})]},n))})]})})]})})}),e.jsxs(G,{open:N,onClose:d,fullWidth:!0,children:[e.jsx(Q,{children:j?"Edit Maintenance Report":"Enter Maintenance Report"}),e.jsxs(Y,{sx:{position:"relative"},children:[e.jsx(h,{"aria-label":"close",onClick:d,sx:{position:"absolute",right:8,top:8,color:r=>r.palette.grey[500]},children:e.jsx(L,{})}),e.jsx(M,{component:"form",sx:{mt:2},children:e.jsx(t,{container:!0,spacing:3,direction:"column",children:e.jsxs(t,{item:!0,xs:12,children:[e.jsx("h3",{style:{color:"#7267ef"},children:"Maintenance Report"}),e.jsx("hr",{style:{borderTop:"2px solid #7267ef",width:"80%"}}),e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"projectId",children:"Asset ID"}),e.jsx("input",{id:"projectId",name:"projectId",className:"input",value:o.projectId||"",onChange:a,disabled:!0})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"workOrderID",children:"Work Order ID"}),e.jsx("input",{id:"workOrderID",name:"workOrderID",className:"input",value:o.workOrderID||"",onChange:a,disabled:!0})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"reportedIssue",children:"Reported Issue"}),e.jsx("textarea",{id:"reportedIssue",name:"reportedIssue",className:"input",rows:"3",value:o.reportedIssue||"",onChange:a})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"issueReportedBy",children:"Issue Reported By"}),e.jsx("input",{id:"issueReportedBy",name:"issueReportedBy",className:"input",value:o.issueReportedBy||"",onChange:a})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"reportDate",children:"Report Date"}),e.jsx("input",{type:"date",id:"reportDate",name:"reportDate",className:"input",value:o.reportDate||"",onChange:a})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"inspectionDate",children:"Inspection Date"}),e.jsx("input",{type:"date",id:"inspectionDate",name:"inspectionDate",className:"input",value:o.inspectionDate||"",onChange:a})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"technicianId",children:"Technician ID"}),e.jsx("input",{id:"technicianId",name:"technicianId",className:"input",value:o.technicianId||"",onChange:a})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"repairWorkDone",children:"Repair Work Done"}),e.jsx("textarea",{id:"repairWorkDone",name:"repairWorkDone",className:"input",rows:"3",value:o.repairWorkDone||"",onChange:a})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"partsReplaced",children:"Parts Replaced"}),e.jsx("textarea",{id:"partsReplaced",name:"partsReplaced",className:"input",rows:"2",value:o.partsReplaced||"",onChange:a})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"totalMaintenanceCost",children:"Total Maintenance Cost"}),e.jsx("input",{type:"number",step:"0.01",id:"totalMaintenanceCost",name:"totalMaintenanceCost",className:"input",value:o.totalMaintenanceCost||"",onChange:a})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"completionDate",children:"Completion Date"}),e.jsx("input",{type:"date",id:"completionDate",name:"completionDate",className:"input",value:o.completionDate||"",onChange:a})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"finalStatus",children:"Final Status"}),e.jsxs("select",{id:"finalStatus",name:"finalStatus",className:"input",value:o.finalStatus||"",onChange:a,children:[e.jsx("option",{value:"",children:"-- Select Status --"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"In Progress",children:"In Progress"}),e.jsx("option",{value:"Pending Approval",children:"Pending Approval"})]})]})]})]})})})]}),e.jsxs(J,{children:[e.jsx(k,{onClick:d,sx:{outline:"2px solid #800000",color:"#800000","&:hover":{outline:"2px solid #b30000",color:"#b30000"}},children:"Cancel"}),e.jsx(k,{variant:"outlined",onClick:P,sx:{borderColor:"#7267ef",color:"#7267ef","&:hover":{borderColor:"#9e8df2",color:"#9e8df2"}},children:j?"Update":"Submit"})]})]})]})};export{ae as default};
