import{r as l,j as e}from"./main-DTv03d8r.js";import{C as O}from"./Close-BAEP8ymL.js";import{T as D,H as y,v as I,w as T,x,y as s,z as w,I as h,D as G,r as Q,t as Y,q as A}from"./TableRow-DyRCyY9b.js";import{G as t}from"./Grid-C5mdLuvI.js";import{B as E}from"./Box-CyTnG5kx.js";import{A as $}from"./AddCircle-Br8tjFgv.js";import{T as z}from"./TableContainer-DOhr4ZW5.js";import{E as U,D as W}from"./Edit-DGVU-IuU.js";import{D as J}from"./DialogActions-CMm5oWDU.js";import"./Transition-ChWAEdMD.js";const K=[{id:"2025-AST-001"},{id:"2025-AST-002"},{id:"2025-AST-003"}],ae=()=>{const[v,k]=l.useState(""),[S,F]=l.useState(""),[P,u]=l.useState(!1),[N,C]=l.useState(""),[i,o]=l.useState({}),[c,p]=l.useState([]),[j,m]=l.useState(!1),[M,g]=l.useState(null),B=n=>{C(n);const r=new Date().getFullYear(),f=(c.length+1).toString().padStart(3,"0");o({maintenanceID:`MNT-${r}-${f}`,projectId:n}),m(!1),g(null),u(!0)},q=n=>{o(n),C(n.projectId),m(!0),g(n.maintenanceID),u(!0)},R=n=>{window.confirm("Are you sure you want to delete maintenance scheduling report!")&&p(c.filter(r=>r.maintenanceID!==n))},d=()=>{u(!1),o({}),m(!1),g(null)},a=n=>{const{name:r,value:b}=n.target;o(f=>({...f,[r]:b}))},H=()=>{const n={...i};if(j)p(c.map(r=>r.maintenanceID===M?n:r));else{const r={...n,projectId:N};p([...c,r])}d()},L=c.filter(n=>Object.values(n).some(r=>r&&r.toString().toLowerCase().includes(S.toLowerCase())));return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"h5",gutterBottom:!0,sx:{mt:5},children:"Maintenance Scheduling Details"}),e.jsx(t,{container:!0,spacing:2,direction:"column",sx:{mb:2},children:e.jsx(t,{item:!0,xs:12,children:e.jsxs(y,{sx:{p:2,backgroundColor:"#fff",border:"1px solid #ccc"},children:[e.jsx(D,{variant:"h6",gutterBottom:!0,children:"ASSETS RECORDS"}),e.jsx(E,{sx:{my:2,mx:1},children:e.jsx("input",{type:"text",placeholder:"Search Asset ID",value:v,onChange:n=>k(n.target.value),className:"input",style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:4}})}),e.jsxs(I,{children:[e.jsx(T,{children:e.jsxs(x,{children:[e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Asset ID"})}),e.jsx(s,{sx:{display:"flex",justifyContent:"flex-end",color:"#660000"},children:e.jsx("strong",{children:"Action"})})]})}),e.jsx(w,{children:K.filter(n=>n.id.toLowerCase().includes(v.toLowerCase())).map((n,r)=>e.jsxs(x,{children:[e.jsx(s,{children:n.id}),e.jsx(s,{sx:{display:"flex",justifyContent:"flex-end"},children:e.jsx(h,{onClick:()=>B(n.id),color:"primary",children:e.jsx($,{sx:{color:"#7267ef"}})})})]},r))})]})]})})}),e.jsx(t,{container:!0,spacing:2,children:e.jsx(t,{item:!0,xs:12,children:e.jsxs(y,{sx:{p:2,backgroundColor:"#fff",border:"1px solid #ccc"},children:[e.jsx(D,{variant:"h6",gutterBottom:!0,children:"Maintenance Scheduling Details"}),e.jsx("input",{type:"text",placeholder:"Search Maintenance Scheduling Details",value:S,onChange:n=>F(n.target.value),className:"input",style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:4,marginBottom:"16px"}}),e.jsx(z,{sx:{maxHeight:400,overflow:"auto",border:"1px solid #ddd"},children:e.jsxs(I,{stickyHeader:!0,children:[e.jsx(T,{children:e.jsxs(x,{children:[e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Asset ID"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Maintenance ID"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Maintenance Type"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Scheduled Date"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Frequency"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Assigned TechnicianId"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Task Description"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Spare Parts Required"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Estimated Downtime"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Approval Status"})}),e.jsx(s,{sx:{color:"#660000"},children:e.jsx("strong",{children:"Actions"})})]})}),e.jsx(w,{children:L.map((n,r)=>e.jsxs(x,{children:[e.jsx(s,{children:n.projectId}),e.jsx(s,{children:n.maintenanceID}),e.jsx(s,{children:n.maintenanceType}),e.jsx(s,{children:n.scheduledDate}),e.jsx(s,{children:n.frequency}),e.jsx(s,{children:n.technicianId}),e.jsx(s,{children:n.taskDescription}),e.jsx(s,{children:n.sparePart}),e.jsx(s,{children:n.EstimatedDowntime}),e.jsx(s,{children:n.approvalStatus}),e.jsxs(s,{children:[e.jsx(h,{onClick:()=>q(n),color:"warning",children:e.jsx(U,{sx:{color:"orange"}})}),e.jsx(h,{onClick:()=>R(n.maintenanceID),color:"error",children:e.jsx(W,{sx:{color:"red"}})})]})]},r))})]})})]})})}),e.jsxs(G,{open:P,onClose:d,fullWidth:!0,children:[e.jsx(Q,{children:j?"Edit Maintenance Scheduling Details":"Enter Maintenance Scheduling Details"}),e.jsxs(Y,{sx:{position:"relative"},children:[e.jsx(h,{"aria-label":"close",onClick:d,sx:{position:"absolute",right:8,top:8,color:n=>n.palette.grey[500]},children:e.jsx(O,{})}),e.jsx(E,{component:"form",sx:{mt:2},children:e.jsx(t,{container:!0,spacing:3,direction:"column",children:e.jsxs(t,{item:!0,xs:12,children:[e.jsx("h3",{style:{color:"#7267ef"},children:"Maintenance Scheduling Info.."}),e.jsx("hr",{style:{borderTop:"2px solid #7267ef",width:"80%"}}),e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"projectId",children:"Asset ID"}),e.jsx("input",{id:"projectId",name:"projectId",className:"input",value:i.projectId||"",onChange:a,disabled:!0})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"maintenanceID",children:"Maintenance ID"}),e.jsx("input",{id:"maintenanceID",name:"maintenanceID",className:"input",value:i.maintenanceID||"",onChange:a,disabled:!0})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"maintenanceType",children:"Maintenance Type"}),e.jsxs("select",{id:"maintenanceType",name:"maintenanceType",className:"input",value:i.maintenanceType||"",onChange:a,children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Preventive",children:"Preventive"}),e.jsx("option",{value:"Predictive",children:"Predictive"}),e.jsx("option",{value:"Corrective",children:"Corrective"}),e.jsx("option",{value:"Breakdown",children:"Breakdown"})]})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"scheduledDate",children:"Scheduled Date"}),e.jsx("input",{type:"date",id:"scheduledDate",name:"scheduledDate",className:"input",value:i.scheduledDate||"",onChange:a})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"frequency",children:"Frequency"}),e.jsx("input",{id:"frequency",name:"frequency",className:"input",value:i.frequency||"",onChange:a})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"technicianId",children:"Technician ID"}),e.jsx("input",{id:"technicianId",name:"technicianId",className:"input",value:i.technicianId||"",onChange:a})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"taskDescription",children:"Task Description"}),e.jsx("input",{id:"taskDescription",name:"taskDescription",className:"input",value:i.taskDescription||"",onChange:a})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"purchaseDate",children:"Purchase Date"}),e.jsx("input",{type:"date",id:"purchaseDate",name:"purchaseDate",className:"input",value:i.purchaseDate||"",onChange:a})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"sparePart",children:"Spare Parts Required"}),e.jsx("input",{id:"sparePart",name:"sparePart",className:"input",value:i.sparePart||"",onChange:a})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"EstimatedDowntime",children:"Estimated Downtime"}),e.jsx("input",{id:"EstimatedDowntime",name:"EstimatedDowntime",className:"input",value:i.EstimatedDowntime||"",onChange:a})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"approvalStatus",children:"Approval Status"}),e.jsxs("select",{id:"approvalStatus",name:"approvalStatus",className:"input",value:i.approvalStatus||"",onChange:a,children:[e.jsx("option",{value:"",children:"-- Select Status --"}),e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Approved",children:"Approved"}),e.jsx("option",{value:"Completed",children:"Completed"})]})]})]})]})})})]}),e.jsxs(J,{children:[e.jsx(A,{onClick:d,sx:{outline:"2px solid #800000",color:"#800000","&:hover":{outline:"2px solid #b30000",color:"#b30000"}},children:"Cancel"}),e.jsx(A,{variant:"outlined",onClick:H,sx:{borderColor:"#7267ef",color:"#7267ef","&:hover":{borderColor:"#9e8df2",color:"#9e8df2"}},children:j?"Update":"Submit"})]})]})]})};export{ae as default};
