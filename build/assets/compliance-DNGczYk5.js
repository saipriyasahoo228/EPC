import{r as l,j as e}from"./main-DTv03d8r.js";import{C as M}from"./Close-BAEP8ymL.js";import{T as g,H as S,v as N,w as P,x,y as r,z as w,I as h,D as G,r as Q,t as Y,q as E}from"./TableRow-DyRCyY9b.js";import{G as t}from"./Grid-C5mdLuvI.js";import{B as T}from"./Box-CyTnG5kx.js";import{A as $}from"./AddCircle-Br8tjFgv.js";import{T as q}from"./TableContainer-DOhr4ZW5.js";import{E as z,D as U}from"./Edit-DGVU-IuU.js";import{D as W}from"./DialogActions-CMm5oWDU.js";import"./Transition-ChWAEdMD.js";const K=[{id:"PRJ-2025-001"},{id:"PRJ-2025-002"},{id:"PRJ-2025-003"}],oe=()=>{const[D,F]=l.useState(""),[I,k]=l.useState(""),[B,p]=l.useState(!1),[y,b]=l.useState(""),[i,a]=l.useState({}),[c,u]=l.useState([]),[j,m]=l.useState(!1),[R,C]=l.useState(null),L=s=>{b(s);const n=new Date().getFullYear(),f=(c.length+1).toString().padStart(3,"0");a({complianceprocessID:`CMP-${n}-${f}`,projectId:s}),m(!1),C(null),p(!0)},A=s=>{a(s),b(s.projectId),m(!0),C(s.complianceprocessID),p(!0)},O=s=>{window.confirm("Are you sure you want to delete this compliance process!")&&u(c.filter(n=>n.complianceprocessID!==s))},d=()=>{p(!1),a({}),m(!1),C(null)},o=s=>{const{name:n,value:v}=s.target;a(f=>({...f,[n]:v}))},H=()=>{if(j)u(c.map(s=>s.complianceprocessID===R?i:s));else{const s={...i,projectId:y};u([...c,s])}d()},J=c.filter(s=>Object.values(s).some(n=>n&&n.toString().toLowerCase().includes(I.toLowerCase())));return e.jsxs(e.Fragment,{children:[e.jsx(g,{variant:"h5",gutterBottom:!0,sx:{mt:5},children:"Compliance & Certification"}),e.jsx(t,{container:!0,spacing:2,direction:"column",sx:{mb:2},children:e.jsx(t,{item:!0,xs:12,children:e.jsxs(S,{sx:{p:2,backgroundColor:"#fff",border:"1px solid #ccc"},children:[e.jsx(g,{variant:"h6",gutterBottom:!0,children:"PROJECT RECORDS"}),e.jsx(T,{sx:{my:2,mx:1},children:e.jsx("input",{type:"text",placeholder:"Search Project ID",value:D,onChange:s=>F(s.target.value),className:"input",style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:4}})}),e.jsxs(N,{children:[e.jsx(P,{children:e.jsxs(x,{children:[e.jsx(r,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Project ID"})}),e.jsx(r,{sx:{display:"flex",justifyContent:"flex-end",color:"#660000"},children:e.jsx("strong",{children:"Action"})})]})}),e.jsx(w,{children:K.filter(s=>s.id.toLowerCase().includes(D.toLowerCase())).map((s,n)=>e.jsxs(x,{children:[e.jsx(r,{children:s.id}),e.jsx(r,{sx:{display:"flex",justifyContent:"flex-end"},children:e.jsx(h,{onClick:()=>L(s.id),color:"primary",children:e.jsx($,{sx:{color:"#7267ef"}})})})]},n))})]})]})})}),e.jsx(t,{container:!0,spacing:2,children:e.jsx(t,{item:!0,xs:12,children:e.jsxs(S,{sx:{p:2,backgroundColor:"#fff",border:"1px solid #ccc"},children:[e.jsx(g,{variant:"h6",gutterBottom:!0,children:"COMPLIANCE & CERTIFICATION DETAILS"}),e.jsx("input",{type:"text",placeholder:"Search Compliance & Certification",value:I,onChange:s=>k(s.target.value),className:"input",style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:4,marginBottom:"16px"}}),e.jsx(q,{sx:{maxHeight:400,overflow:"auto",border:"1px solid #ddd"},children:e.jsxs(N,{stickyHeader:!0,children:[e.jsx(P,{children:e.jsxs(x,{children:[e.jsx(r,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Project ID"})}),e.jsx(r,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Compliance Process ID"})}),e.jsx(r,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Regulatory Body"})}),e.jsx(r,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Inspection Date"})}),e.jsx(r,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Inspector Name"})}),e.jsx(r,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Compliance Checklist ID"})}),e.jsx(r,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Compliance Status"})}),e.jsx(r,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Non-Compliance Issues"})}),e.jsx(r,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Corrective Action Plan"})}),e.jsx(r,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Certification ID"})}),e.jsx(r,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Certification Expiry Date"})}),e.jsx(r,{sx:{color:"#660000"},children:e.jsx("strong",{children:"Actions"})})]})}),e.jsx(w,{children:J.map((s,n)=>e.jsxs(x,{children:[e.jsx(r,{children:s.projectId}),e.jsx(r,{children:s.complianceprocessID}),e.jsx(r,{children:s.regulatoryBody}),e.jsx(r,{children:s.inspectionDate}),e.jsx(r,{children:s.inspectorName}),e.jsx(r,{children:s.checkListID}),e.jsx(r,{children:s.complianceStatus}),e.jsx(r,{children:s.issues}),e.jsx(r,{children:s.actionplan}),e.jsx(r,{children:s.certificationID}),e.jsx(r,{children:s.expiryDate}),e.jsxs(r,{children:[e.jsx(h,{onClick:()=>A(s),color:"warning",children:e.jsx(z,{sx:{color:"orange"}})}),e.jsx(h,{onClick:()=>O(s.complianceprocessID),color:"error",children:e.jsx(U,{sx:{color:"red"}})})]})]},n))})]})})]})})}),e.jsxs(G,{open:B,onClose:d,fullWidth:!0,children:[e.jsx(Q,{children:j?"Edit Compliance Details":"Enter Compliance Details"}),e.jsxs(Y,{sx:{position:"relative"},children:[e.jsx(h,{"aria-label":"close",onClick:d,sx:{position:"absolute",right:8,top:8,color:s=>s.palette.grey[500]},children:e.jsx(M,{})}),e.jsx(T,{component:"form",sx:{mt:2},children:e.jsxs(t,{container:!0,spacing:3,direction:"column",children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsx("h3",{style:{color:"#7267ef"},children:"Project Information"}),e.jsx("hr",{style:{borderTop:"2px solid #7267ef",width:"80%"}}),e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"projectId",children:"Project ID"}),e.jsx("input",{id:"projectId",className:"input",value:y,disabled:!0})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"complianceprocessID",children:"Compliance ID"}),e.jsx("input",{id:"complianceprocessID",className:"input",value:i.complianceprocessID||"",disabled:!0})]})]})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx("h3",{style:{color:"#7267ef"},children:"Compliance & Certification Infor.."}),e.jsx("hr",{style:{borderTop:"2px solid #7267ef",width:"80%"}}),e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"regulatoryBody",children:"Regulatory Body"}),e.jsx("input",{id:"regulatoryBody",name:"regulatoryBody",className:"input",value:i.regulatoryBody||"",onChange:o})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"inspectionDate",children:"Inspection Date"}),e.jsx("input",{type:"date",id:"inspectionDate",name:"inspectionDate",className:"input",value:i.inspectionDate||"",onChange:o})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"inspectorName",children:"Inspector Name"}),e.jsx("input",{id:"inspectorName",name:"inspectorName",className:"input",value:i.inspectorName||"",onChange:o})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"checkListID",children:"Compliance CheckList ID"}),e.jsx("input",{id:"checkListID",name:"checkListID",className:"input",value:i.checkListID||"",onChange:o})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"complianceStatus",children:"Compliance Status"}),e.jsxs("select",{id:"complianceStatus",name:"complianceStatus",className:"input",value:i.complianceStatus||"",onChange:o,children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"issues",children:"Non-Compliant Issues"}),e.jsx("input",{id:"issues",name:"issues",className:"input",value:i.issues||"",onChange:o})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"actionplan",children:"Corrective Action Plan"}),e.jsx("input",{id:"actionplan",name:"actionplan",className:"input",value:i.actionplan||"",onChange:o})]})]}),e.jsxs(t,{item:!0,xs:12,children:[e.jsx("h3",{style:{color:"#7267ef"},children:"Certification ID & Expiry Date"}),e.jsx("hr",{style:{borderTop:"2px solid #7267ef",width:"80%"}}),e.jsxs(t,{container:!0,spacing:2,children:[e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"certificationID",children:"Certification ID"}),e.jsx("input",{id:"certificationID",name:"certificationID",className:"input",value:i.certificationID||"",onChange:o})]}),e.jsxs(t,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"expiryDate",children:"Certification Expiry Date"}),e.jsx("input",{type:"date",id:"expiryDate",name:"expiryDate",className:"input",value:i.expiryDate||"",onChange:o})]})]})]})]})]})})]}),e.jsxs(W,{children:[e.jsx(E,{onClick:d,sx:{outline:"2px solid #800000",color:"#800000","&:hover":{outline:"2px solid #b30000",color:"#b30000"}},children:"Cancel"}),e.jsx(E,{variant:"outlined",onClick:H,sx:{borderColor:"#7267ef",color:"#7267ef","&:hover":{borderColor:"#9e8df2",color:"#9e8df2"}},children:j?"Update":"Submit"})]})]})]})};export{oe as default};
