import{r as c,j as e}from"./main-DTv03d8r.js";import{C as G}from"./Close-BAEP8ymL.js";import{T as g,H as b,v,w as T,x,y as n,z as A,I as h,D as Q,r as Y,t as $,q as w}from"./TableRow-DyRCyY9b.js";import{G as r}from"./Grid-C5mdLuvI.js";import{B as E}from"./Box-CyTnG5kx.js";import{A as q}from"./AddCircle-Br8tjFgv.js";import{T as z}from"./TableContainer-DOhr4ZW5.js";import{E as U,D as W}from"./Edit-DGVU-IuU.js";import{D as J}from"./DialogActions-CMm5oWDU.js";import"./Transition-ChWAEdMD.js";const K=[{id:"2025-AST-001"},{id:"2025-AST-002"},{id:"2025-AST-003"}],oe=()=>{const[y,k]=c.useState(""),[D,N]=c.useState(""),[F,p]=c.useState(!1),[P,I]=c.useState(""),[i,a]=c.useState({}),[l,u]=c.useState([]),[j,m]=c.useState(!1),[B,f]=c.useState(null),R=s=>{I(s);const t=new Date().getFullYear(),C=(l.length+1).toString().padStart(3,"0");a({complianceID:`CMP-${t}-${C}`,projectId:s}),m(!1),f(null),p(!0)},H=s=>{a(s),I(s.projectId),m(!0),f(s.complianceID),p(!0)},L=s=>{window.confirm("Are you sure you want to delete safety check report!")&&u(l.filter(t=>t.complianceID!==s))},d=()=>{p(!1),a({}),m(!1),f(null)},o=s=>{const{name:t,value:S}=s.target;a(C=>({...C,[t]:S}))},O=()=>{const s={...i};if(j)u(l.map(t=>t.complianceID===B?s:t));else{const t={...s,projectId:P};u([...l,t])}d()},M=l.filter(s=>Object.values(s).some(t=>t&&t.toString().toLowerCase().includes(D.toLowerCase())));return e.jsxs(e.Fragment,{children:[e.jsx(g,{variant:"h5",gutterBottom:!0,sx:{mt:5},children:"Compliance & Safety Checks"}),e.jsx(r,{container:!0,spacing:2,direction:"column",sx:{mb:2},children:e.jsx(r,{item:!0,xs:12,children:e.jsxs(b,{sx:{p:2,backgroundColor:"#fff",border:"1px solid #ccc"},children:[e.jsx(g,{variant:"h6",gutterBottom:!0,children:"ASSETS RECORDS"}),e.jsx(E,{sx:{my:2,mx:1},children:e.jsx("input",{type:"text",placeholder:"Search Asset ID",value:y,onChange:s=>k(s.target.value),className:"input",style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:4}})}),e.jsxs(v,{children:[e.jsx(T,{children:e.jsxs(x,{children:[e.jsx(n,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Asset ID"})}),e.jsx(n,{sx:{display:"flex",justifyContent:"flex-end",color:"#660000"},children:e.jsx("strong",{children:"Action"})})]})}),e.jsx(A,{children:K.filter(s=>s.id.toLowerCase().includes(y.toLowerCase())).map((s,t)=>e.jsxs(x,{children:[e.jsx(n,{children:s.id}),e.jsx(n,{sx:{display:"flex",justifyContent:"flex-end"},children:e.jsx(h,{onClick:()=>R(s.id),color:"primary",children:e.jsx(q,{sx:{color:"#7267ef"}})})})]},t))})]})]})})}),e.jsx(r,{container:!0,spacing:2,children:e.jsx(r,{item:!0,xs:12,children:e.jsxs(b,{sx:{p:2,backgroundColor:"#fff",border:"1px solid #ccc"},children:[e.jsx(g,{variant:"h6",gutterBottom:!0,children:"Compliance & Safety Checks Details"}),e.jsx("input",{type:"text",placeholder:"Search Safety Check Details",value:D,onChange:s=>N(s.target.value),className:"input",style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:4,marginBottom:"16px"}}),e.jsx(z,{sx:{maxHeight:400,overflow:"auto",border:"1px solid #ddd"},children:e.jsxs(v,{stickyHeader:!0,children:[e.jsx(T,{children:e.jsxs(x,{children:[e.jsx(n,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Asset ID"})}),e.jsx(n,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Compliance ID"})}),e.jsx(n,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Inspection Date"})}),e.jsx(n,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Inspection Type"})}),e.jsx(n,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Inspector ID"})}),e.jsx(n,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Regulatory Standards"})}),e.jsx(n,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Non-Compliance Issues"})}),e.jsx(n,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Corrective Action Plan"})}),e.jsx(n,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Certification ExpiryDate"})}),e.jsx(n,{sx:{color:"#660000"},children:e.jsx("strong",{children:"Actions"})})]})}),e.jsx(A,{children:M.map((s,t)=>e.jsxs(x,{children:[e.jsx(n,{children:s.projectId}),e.jsx(n,{children:s.complianceID}),e.jsx(n,{children:s.inspectionDate}),e.jsx(n,{children:s.inspectionType}),e.jsx(n,{children:s.inspectorID}),e.jsx(n,{children:s.regulatoryStandards}),e.jsx(n,{children:s.nonComplianceIssues}),e.jsx(n,{children:s.correctiveActionPlan}),e.jsx(n,{children:s.certificationExpiryDate}),e.jsxs(n,{children:[e.jsx(h,{onClick:()=>H(s),color:"warning",children:e.jsx(U,{sx:{color:"orange"}})}),e.jsx(h,{onClick:()=>L(s.complianceID),color:"error",children:e.jsx(W,{sx:{color:"red"}})})]})]},t))})]})})]})})}),e.jsxs(Q,{open:F,onClose:d,fullWidth:!0,children:[e.jsx(Y,{children:j?"Edit Safety Check Details":"Enter Safety Check Details"}),e.jsxs($,{sx:{position:"relative"},children:[e.jsx(h,{"aria-label":"close",onClick:d,sx:{position:"absolute",right:8,top:8,color:s=>s.palette.grey[500]},children:e.jsx(G,{})}),e.jsx(E,{component:"form",sx:{mt:2},children:e.jsx(r,{container:!0,spacing:3,direction:"column",children:e.jsxs(r,{item:!0,xs:12,children:[e.jsx("h3",{style:{color:"#7267ef"},children:"Compliance Information"}),e.jsx("hr",{style:{borderTop:"2px solid #7267ef",width:"80%"}}),e.jsxs(r,{container:!0,spacing:2,children:[e.jsxs(r,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"complianceID",children:"Compliance ID"}),e.jsx("input",{id:"complianceID",name:"complianceID",className:"input",value:i.complianceID||"",onChange:o,disabled:!0})]}),e.jsxs(r,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"projectId",children:"Asset ID"}),e.jsx("input",{id:"projectId",name:"projectId",className:"input",value:i.projectId||"",onChange:o,disabled:!0})]}),e.jsxs(r,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"inspectionDate",children:"Inspection Date"}),e.jsx("input",{type:"date",id:"inspectionDate",name:"inspectionDate",className:"input",value:i.inspectionDate||"",onChange:o})]}),e.jsxs(r,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"inspectionType",children:"Inspection Type"}),e.jsx("input",{id:"inspectionType",name:"inspectionType",className:"input",value:i.inspectionType||"",onChange:o})]}),e.jsxs(r,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"inspectorID",children:"Inspector ID"}),e.jsx("input",{id:"inspectorID",name:"inspectorID",className:"input",value:i.inspectorID||"",onChange:o})]}),e.jsxs(r,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"regulatoryStandards",children:"Regulatory Standards"}),e.jsx("input",{id:"regulatoryStandards",name:"regulatoryStandards",className:"input",value:i.regulatoryStandards||"",onChange:o})]}),e.jsxs(r,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"nonComplianceIssues",children:"Non-Compliance Issues"}),e.jsx("textarea",{id:"nonComplianceIssues",name:"nonComplianceIssues",className:"input",rows:"3",value:i.nonComplianceIssues||"",onChange:o})]}),e.jsxs(r,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"correctiveActionPlan",children:"Corrective Action Plan"}),e.jsx("textarea",{id:"correctiveActionPlan",name:"correctiveActionPlan",className:"input",rows:"3",value:i.correctiveActionPlan||"",onChange:o})]}),e.jsxs(r,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"certificationExpiryDate",children:"Certification Expiry Date"}),e.jsx("input",{type:"date",id:"certificationExpiryDate",name:"certificationExpiryDate",className:"input",value:i.certificationExpiryDate||"",onChange:o})]})]})]})})})]}),e.jsxs(J,{children:[e.jsx(w,{onClick:d,sx:{outline:"2px solid #800000",color:"#800000","&:hover":{outline:"2px solid #b30000",color:"#b30000"}},children:"Cancel"}),e.jsx(w,{variant:"outlined",onClick:O,sx:{borderColor:"#7267ef",color:"#7267ef","&:hover":{borderColor:"#9e8df2",color:"#9e8df2"}},children:j?"Update":"Submit"})]})]})]})};export{oe as default};
