import{r as o,j as e,T as f}from"./main-IxGEKZMA.js";import{C as M}from"./Close-DoqWsXz3.js";import{G as i}from"./Grid-C72N-tAO.js";import{t as g,T as b,h as I,i as x,j as t,k as C,I as u,D as w,f as B,g as O,e as S}from"./TableRow-CRAT5KT_.js";import{A as U}from"./AddCircle-DWIRGPUh.js";import{E as $}from"./Edit-g2hjeeYC.js";import{D as H}from"./Delete-cHl_EB0l.js";import{D as L}from"./DialogActions-D5wP0Mt-.js";import"./Transition-C29ZPDdz.js";const V=[{id:"GUEST-2025-001"},{id:"GUEST-2025-002"},{id:"GUEST-2025-003"}],_=()=>{const[y,h]=o.useState(!1),[A,D]=o.useState(""),[a,c]=o.useState({}),[j,m]=o.useState([]),[p,v]=o.useState(!1),[P,T]=o.useState(null),E=s=>{const n=`INV-${new Date().getFullYear()}-${(j.length+1).toString().padStart(3,"0")}`;D(s),c({invoiceId:n,guestId:s,invoiceDate:"",dueDate:"",totalAmount:"",amountPaid:"",paymentStatus:"Pending",paymentMethod:"",approvalStatus:""}),v(!1),h(!0)},r=()=>{c({}),h(!1),v(!1)},l=s=>{const{name:n,value:d}=s.target;c(F=>({...F,[n]:d}))},G=(s,n)=>parseFloat(s||0)-parseFloat(n||0),N=()=>{const s={...a,outstandingBalance:G(a.totalAmount,a.amountPaid)};m(p?n=>n.map(d=>d.invoiceId===P?s:d):n=>[...n,s]),r()},R=s=>{D(s.guestId),c(s),v(!0),T(s.invoiceId),h(!0)},k=s=>{window.confirm("Delete this invoice?")&&m(j.filter(n=>n.invoiceId!==s))};return e.jsxs(e.Fragment,{children:[e.jsx(f,{variant:"h5",sx:{mt:4},children:"Accounts Receivable"}),e.jsxs(i,{container:!0,spacing:2,sx:{mt:2},direction:"column",children:[e.jsx(i,{item:!0,xs:12,children:e.jsxs(g,{sx:{p:2},children:[e.jsx(f,{variant:"h6",children:"Guest List"}),e.jsxs(b,{children:[e.jsx(I,{children:e.jsxs(x,{children:[e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Guest ID"})}),e.jsx(t,{sx:{display:"flex",justifyContent:"flex-end",color:"#660000"},children:e.jsx("strong",{children:"Action"})})]})}),e.jsx(C,{children:V.map((s,n)=>e.jsxs(x,{children:[e.jsx(t,{children:s.id}),e.jsx(t,{sx:{display:"flex",justifyContent:"flex-end"},children:e.jsx(u,{onClick:()=>E(s.id),children:e.jsx(U,{sx:{color:"#7267ef"}})})})]},n))})]})]})}),e.jsx(i,{item:!0,xs:12,children:e.jsxs(g,{sx:{p:2},children:[e.jsx(f,{variant:"h6",children:"Receivable Records"}),e.jsxs(b,{children:[e.jsx(I,{children:e.jsxs(x,{children:[e.jsx(t,{sx:{color:"#7267ef"},children:"Invoice ID"}),e.jsx(t,{sx:{color:"#7267ef"},children:"Guest ID"}),e.jsx(t,{sx:{color:"#7267ef"},children:"Invoice Date"}),e.jsx(t,{sx:{color:"#7267ef"},children:"Due Date"}),e.jsx(t,{sx:{color:"#7267ef"},children:"Total"}),e.jsx(t,{sx:{color:"#7267ef"},children:"Paid"}),e.jsx(t,{sx:{color:"#7267ef"},children:"Outstanding"}),e.jsx(t,{sx:{color:"#7267ef"},children:"Status"}),e.jsx(t,{sx:{color:"#660000"},children:"Actions"})]})}),e.jsx(C,{children:j.map((s,n)=>e.jsxs(x,{children:[e.jsx(t,{children:s.invoiceId}),e.jsx(t,{children:s.guestId}),e.jsx(t,{children:s.invoiceDate}),e.jsx(t,{children:s.dueDate}),e.jsx(t,{children:s.totalAmount}),e.jsx(t,{children:s.amountPaid}),e.jsx(t,{children:s.outstandingBalance}),e.jsx(t,{children:s.paymentStatus}),e.jsxs(t,{children:[e.jsx(u,{onClick:()=>R(s),children:e.jsx($,{})}),e.jsx(u,{onClick:()=>k(s.invoiceId),children:e.jsx(H,{})})]})]},n))})]})]})})]}),e.jsxs(w,{open:y,onClose:r,fullWidth:!0,children:[e.jsxs(B,{children:[p?"Edit Receivable":"Add Receivable",e.jsx(u,{onClick:r,sx:{position:"absolute",right:8,top:8},children:e.jsx(M,{})})]}),e.jsx(O,{children:e.jsxs(i,{container:!0,spacing:2,sx:{mt:1},children:[e.jsxs(i,{item:!0,xs:6,children:[e.jsx("label",{children:"Guest ID"}),e.jsx("input",{className:"input",value:A,disabled:!0})]}),e.jsxs(i,{item:!0,xs:6,children:[e.jsx("label",{children:"Invoice ID"}),e.jsx("input",{className:"input",value:a.invoiceId||"",disabled:!0})]}),e.jsxs(i,{item:!0,xs:6,children:[e.jsx("label",{children:"Invoice Date"}),e.jsx("input",{type:"date",name:"invoiceDate",className:"input",value:a.invoiceDate||"",onChange:l})]}),e.jsxs(i,{item:!0,xs:6,children:[e.jsx("label",{children:"Due Date"}),e.jsx("input",{type:"date",name:"dueDate",className:"input",value:a.dueDate||"",onChange:l})]}),e.jsxs(i,{item:!0,xs:6,children:[e.jsx("label",{children:"Total Amount"}),e.jsx("input",{type:"number",name:"totalAmount",className:"input",value:a.totalAmount||"",onChange:l})]}),e.jsxs(i,{item:!0,xs:6,children:[e.jsx("label",{children:"Amount Paid"}),e.jsx("input",{type:"number",name:"amountPaid",className:"input",value:a.amountPaid||"",onChange:l})]}),e.jsxs(i,{item:!0,xs:6,children:[e.jsx("label",{children:"Payment Status"}),e.jsxs("select",{name:"paymentStatus",className:"input",value:a.paymentStatus||"Pending",onChange:l,children:[e.jsx("option",{children:"Pending"}),e.jsx("option",{children:"Paid"}),e.jsx("option",{children:"Overdue"})]})]}),e.jsxs(i,{item:!0,xs:6,children:[e.jsx("label",{children:"Payment Method"}),e.jsx("input",{name:"paymentMethod",className:"input",value:a.paymentMethod||"",onChange:l})]}),e.jsxs(i,{item:!0,xs:6,children:[e.jsx("label",{children:"Approval Status"}),e.jsx("input",{name:"approvalStatus",className:"input",value:a.approvalStatus||"",onChange:l})]})]})}),e.jsxs(L,{children:[e.jsx(S,{onClick:r,sx:{outline:"2px solid #800000",color:"#800000"},children:"Cancel"}),e.jsx(S,{variant:"outlined",onClick:N,sx:{color:"#7267ef",borderColor:"#7267ef"},children:p?"Update":"Submit"})]})]})]})};export{_ as default};
