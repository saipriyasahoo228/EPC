import{r as l,j as e}from"./main-DTv03d8r.js";import{C as J}from"./Close-BAEP8ymL.js";import{T as g,H as S,v as T,w as A,x,y as s,z as R,I as h,D as U,r as Y,t as G,q as w}from"./TableRow-DyRCyY9b.js";import{G as n}from"./Grid-C5mdLuvI.js";import{B as N}from"./Box-CyTnG5kx.js";import{A as M}from"./AddCircle-Br8tjFgv.js";import{T as $}from"./TableContainer-DOhr4ZW5.js";import{E as z,D as W}from"./Edit-DGVU-IuU.js";import{D as q}from"./DialogActions-CMm5oWDU.js";import"./Transition-ChWAEdMD.js";const K=[{id:"PRJ-2025-001"},{id:"PRJ-2025-002"},{id:"PRJ-2025-003"}],ie=()=>{const[y,Q]=l.useState(""),[C,E]=l.useState(""),[F,u]=l.useState(!1),[D,v]=l.useState(""),[r,a]=l.useState({}),[c,p]=l.useState([]),[j,m]=l.useState(!1),[P,f]=l.useState(null),k=t=>{v(t);const o=new Date().getFullYear(),I=(c.length+1).toString().padStart(3,"0");a({qualitycontrolID:`QC-${o}-${I}`,projectId:t}),m(!1),f(null),u(!0)},B=t=>{a(t),v(t.projectId),m(!0),f(t.qualitycontrolID),u(!0)},L=t=>{window.confirm("Are you sure you want to delete this quality control record?")&&p(c.filter(o=>o.qualitycontrolID!==t))},d=()=>{u(!1),a({}),m(!1),f(null)},i=t=>{const{name:o,value:b}=t.target;a(I=>({...I,[o]:b}))},O=()=>{if(j)p(c.map(t=>t.qualitycontrolID===P?r:t));else{const t={...r,projectId:D};p([...c,t])}d()},H=c.filter(t=>Object.values(t).some(o=>o&&o.toString().toLowerCase().includes(C.toLowerCase())));return e.jsxs(e.Fragment,{children:[e.jsx(g,{variant:"h5",gutterBottom:!0,sx:{mt:5},children:"Quality Control & Assurance"}),e.jsx(n,{container:!0,spacing:2,direction:"column",sx:{mb:2},children:e.jsx(n,{item:!0,xs:12,children:e.jsxs(S,{sx:{p:2,backgroundColor:"#fff",border:"1px solid #ccc"},children:[e.jsx(g,{variant:"h6",gutterBottom:!0,children:"PROJECT RECORDS"}),e.jsx(N,{sx:{my:2,mx:1},children:e.jsx("input",{type:"text",placeholder:"Search Project ID",value:y,onChange:t=>Q(t.target.value),className:"input",style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:4}})}),e.jsxs(T,{children:[e.jsx(A,{children:e.jsxs(x,{children:[e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Project ID"})}),e.jsx(s,{sx:{display:"flex",justifyContent:"flex-end",color:"#660000"},children:e.jsx("strong",{children:"Action"})})]})}),e.jsx(R,{children:K.filter(t=>t.id.toLowerCase().includes(y.toLowerCase())).map((t,o)=>e.jsxs(x,{children:[e.jsx(s,{children:t.id}),e.jsx(s,{sx:{display:"flex",justifyContent:"flex-end"},children:e.jsx(h,{onClick:()=>k(t.id),color:"primary",children:e.jsx(M,{sx:{color:"#7267ef"}})})})]},o))})]})]})})}),e.jsx(n,{container:!0,spacing:2,children:e.jsx(n,{item:!0,xs:12,children:e.jsxs(S,{sx:{p:2,backgroundColor:"#fff",border:"1px solid #ccc"},children:[e.jsx(g,{variant:"h6",gutterBottom:!0,children:"QUALITY CONTROL & ASSUARANCE DETAILS"}),e.jsx("input",{type:"text",placeholder:"Search Quality Control",value:C,onChange:t=>E(t.target.value),className:"input",style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:4,marginBottom:"16px"}}),e.jsx($,{sx:{maxHeight:400,overflow:"auto",border:"1px solid #ddd"},children:e.jsxs(T,{stickyHeader:!0,children:[e.jsx(A,{children:e.jsxs(x,{children:[e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Project ID"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Quality Control ID"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Inspection Date"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Inspection Type"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Inspector ID"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Test Results"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Compliance Standards"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Defects Identified"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Corrective Actions"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Approval Status"})}),e.jsx(s,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Next Inspection Date"})}),e.jsx(s,{sx:{color:"#660000"},children:e.jsx("strong",{children:"Actions"})})]})}),e.jsx(R,{children:H.map((t,o)=>e.jsxs(x,{children:[e.jsx(s,{children:t.projectId}),e.jsx(s,{children:t.qualitycontrolID}),e.jsx(s,{children:t.inspectionDate}),e.jsx(s,{children:t.inspectionType}),e.jsx(s,{children:t.inspectorID}),e.jsx(s,{children:t.testResult}),e.jsx(s,{children:t.complianceStandards}),e.jsx(s,{children:t.defectIdentified}),e.jsx(s,{children:t.correctiveAction}),e.jsx(s,{children:t.approvalStatus}),e.jsx(s,{children:t.nextInspectionDate}),e.jsxs(s,{children:[e.jsx(h,{onClick:()=>B(t),color:"warning",children:e.jsx(z,{sx:{color:"orange"}})}),e.jsx(h,{onClick:()=>L(t.qualitycontrolID),color:"error",children:e.jsx(W,{sx:{color:"red"}})})]})]},o))})]})})]})})}),e.jsxs(U,{open:F,onClose:d,fullWidth:!0,children:[e.jsx(Y,{children:j?"Edit Quality Control & Assurance Details":"Enter Quality Control & Assurance Details"}),e.jsxs(G,{sx:{position:"relative"},children:[e.jsx(h,{"aria-label":"close",onClick:d,sx:{position:"absolute",right:8,top:8,color:t=>t.palette.grey[500]},children:e.jsx(J,{})}),e.jsx(N,{component:"form",sx:{mt:2},children:e.jsxs(n,{container:!0,spacing:3,direction:"column",children:[e.jsxs(n,{item:!0,xs:12,children:[e.jsx("h3",{style:{color:"#7267ef"},children:"Project Information"}),e.jsx("hr",{style:{borderTop:"2px solid #7267ef",width:"80%"}}),e.jsxs(n,{container:!0,spacing:2,children:[e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"projectId",children:"Project ID"}),e.jsx("input",{id:"projectId",className:"input",value:D,disabled:!0})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"qualitycontrolID",children:"Quality Assurance ID"}),e.jsx("input",{id:"qualitycontrolID",className:"input",value:r.qualitycontrolID||"",disabled:!0})]})]})]}),e.jsxs(n,{item:!0,xs:12,children:[e.jsx("h3",{style:{color:"#7267ef"},children:"Inspection Information"}),e.jsx("hr",{style:{borderTop:"2px solid #7267ef",width:"80%"}}),e.jsxs(n,{container:!0,spacing:2,children:[e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"inspectionDate",children:"Inspection Date"}),e.jsx("input",{type:"date",id:"inspectionDate",name:"inspectionDate",className:"input",value:r.inspectionDate||"",onChange:i})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"inspectionType",children:"Inspection Type"}),e.jsx("input",{id:"inspectionType",name:"inspectionType",className:"input",value:r.inspectionType||"",onChange:i})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"inspectorID",children:"Inspector ID"}),e.jsx("input",{id:"inspectorID",name:"inspectorID",className:"input",value:r.inspectorID||"",onChange:i})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"testResult",children:"Test Results"}),e.jsx("input",{id:"testResult",name:"testResult",className:"input",value:r.testResult||"",onChange:i})]})]})]}),e.jsxs(n,{item:!0,xs:12,children:[e.jsx("h3",{style:{color:"#7267ef"},children:"Compliance Standards & Approval Status"}),e.jsx("hr",{style:{borderTop:"2px solid #7267ef",width:"80%"}}),e.jsxs(n,{container:!0,spacing:2,children:[e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"complianceStandards",children:"Compliance Standards"}),e.jsx("input",{id:"complianceStandards",name:"complianceStandards",className:"input",value:r.complianceStandards||"",onChange:i})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"defectIdentified",children:"Defects Identified"}),e.jsx("input",{id:"defectIdentified",name:"defectIdentified",className:"input",value:r.defectIdentified||"",onChange:i})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"correctiveAction",children:"Corrective Actions"}),e.jsx("input",{id:"correctiveAction",name:"correctiveAction",className:"input",value:r.correctiveAction||"",onChange:i})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"approvalStatus",children:"Approval Status"}),e.jsxs("select",{id:"approvalStatus",name:"approvalStatus",className:"input",value:r.approvalStatus||"",onChange:i,children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"Approved",children:"Approved"}),e.jsx("option",{value:"Rework Required",children:"Rework Required"}),e.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"nextInspectionDate",children:"Next Inspection Date"}),e.jsx("input",{type:"date",id:"nextInspectionDate",name:"nextInspectionDate",className:"input",value:r.nextInspectionDate||"",onChange:i})]})]})]})]})})]}),e.jsxs(q,{children:[e.jsx(w,{onClick:d,sx:{outline:"2px solid #800000",color:"#800000","&:hover":{outline:"2px solid #b30000",color:"#b30000"}},children:"Cancel"}),e.jsx(w,{variant:"outlined",onClick:O,sx:{borderColor:"#7267ef",color:"#7267ef","&:hover":{borderColor:"#9e8df2",color:"#9e8df2"}},children:j?"Update":"Submit"})]})]})]})};export{ie as default};
