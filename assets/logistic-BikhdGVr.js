import{r as c,j as e}from"./main-DTv03d8r.js";import{C as $}from"./Close-BAEP8ymL.js";import{T as v,H as y,v as S,w as O,x as h,y as t,z as A,I as u,D as Q,r as U,t as z,q as T}from"./TableRow-DyRCyY9b.js";import{G as s}from"./Grid-C5mdLuvI.js";import{B as N}from"./Box-CyTnG5kx.js";import{A as W}from"./AddCircle-Br8tjFgv.js";import{T as _}from"./TableContainer-DOhr4ZW5.js";import{E as K,D as X}from"./Edit-DGVU-IuU.js";import{D as Y}from"./DialogActions-CMm5oWDU.js";import"./Transition-ChWAEdMD.js";const R=[{projectId:"PRJ-2025-001",procurementId:"PROC-2025-001",purchaseOrderId:"PO-2025-001"},{projectId:"PRJ-2025-002",procurementId:"PROC-2025-002",purchaseOrderId:"PO-2025-002"},{projectId:"PRJ-2025-003",procurementId:"PROC-2025-003",purchaseOrderId:"PO-2025-003"}],de=()=>{const[D,F]=c.useState(""),[f,L]=c.useState(""),[p,o]=c.useState(!1),[E,w]=c.useState(""),[i,a]=c.useState({projectId:"",purchaseOrderId:"",logisticId:"",transportId:"",vehicleDetails:"",driverName:"",dispatchDate:"",expectedArrivalDate:"",actualArrivalDate:"",deliveryLocation:"",shippingStatus:"",damageReport:""}),[d,j]=c.useState([]),[m,C]=c.useState(null),[b,Z]=c.useState(0);c.useEffect(()=>{if(p){const r=R[b];a({...i,projectId:r.projectId,procurementId:r.procurementId,purchaseOrderId:r.purchaseOrderId})}},[p,b]);const k=()=>{o(!0)},g=()=>{o(!1)},n=r=>{const{name:l,value:P}=r.target;a(I=>{const x={...I,[l]:P};if(l==="quantity"||l==="unitPrice"){const J=parseFloat(x.quantity)||0,M=parseFloat(x.unitPrice)||0,V=(J*M).toFixed(2);x.totalCost=V}return x})},B=()=>{if(m!==null){const r=[...d];r[m]={...i,poId:r[m].poId},j(r)}else{const r={...i,projectId:E};j(l=>[...l,r])}a({}),w(null),C(null),o(!1)},H=r=>{const l=d[r];a(l),C(r),o(!0)},q=r=>{const l=d.filter((P,I)=>I!==r);j(l)},G=d.filter(r=>Object.values(r).some(l=>l&&l.toString().toLowerCase().includes(f.toLowerCase())));return e.jsxs(e.Fragment,{children:[e.jsx(v,{variant:"h5",gutterBottom:!0,sx:{mt:5},children:"Material Procurement"}),e.jsx(s,{container:!0,spacing:2,direction:"column",sx:{mb:2},children:e.jsx(s,{item:!0,xs:12,children:e.jsxs(y,{sx:{p:2,backgroundColor:"#fff",border:"1px solid #ccc"},children:[e.jsx(v,{variant:"h6",gutterBottom:!0,children:"PURCHASE ORDERS"}),e.jsx(N,{sx:{my:2,mx:1},children:e.jsx("input",{type:"text",placeholder:"Search Purchase Orders",value:D,onChange:r=>F(r.target.value),className:"input",style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:4}})}),e.jsxs(S,{children:[e.jsx(O,{children:e.jsxs(h,{children:[e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Project ID"})}),e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Procurement ID"})}),e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Purchase Order ID"})}),e.jsx(t,{sx:{display:"flex",justifyContent:"flex-end",color:"#660000"},children:e.jsx("strong",{children:"Action"})})]})}),e.jsx(A,{children:R.filter(r=>`${r.projectId} ${r.procurementId} ${r.purchaseOrderId}`.toLowerCase().includes(D.toLowerCase())).map((r,l)=>e.jsxs(h,{children:[e.jsx(t,{children:r.projectId}),e.jsx(t,{children:r.procurementId}),e.jsx(t,{children:r.purchaseOrderId}),e.jsx(t,{sx:{display:"flex",justifyContent:"flex-end"},children:e.jsx(u,{onClick:()=>k(r.projectId),color:"primary",children:e.jsx(W,{sx:{color:"#7267ef"}})})})]},l))})]})]})})}),e.jsx(s,{container:!0,spacing:2,children:e.jsx(s,{item:!0,xs:12,children:e.jsxs(y,{sx:{p:2,backgroundColor:"#fff",border:"1px solid #ccc"},children:[e.jsx(v,{variant:"h6",gutterBottom:!0,children:"SUBMITTED LOGISTIC RECORDS"}),e.jsx("input",{type:"text",placeholder:"Search Logistic Management Here..",value:f,onChange:r=>L(r.target.value),className:"input"}),e.jsx(_,{sx:{maxHeight:400,overflow:"auto",border:"1px solid #ddd"},children:e.jsxs(S,{stickyHeader:!0,children:[e.jsx(O,{children:e.jsxs(h,{children:[e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Project ID"})}),e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Procurement ID"})}),e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"PurchaseOrder ID"})}),e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Logistic ID "})}),e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Transport Provider Id "})}),e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Vehicle Details"})}),e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Driver Name"})}),e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Dispatch Date"})}),e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Expected Arrival Date"})}),e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Actual Arrival Date"})}),e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Delivery Location"})}),e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Shipping Status"})}),e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Damage Report"})}),e.jsx(t,{sx:{color:"#660000"},children:e.jsx("strong",{children:"Actions"})})]})}),e.jsx(A,{children:G.map((r,l)=>e.jsxs(h,{children:[e.jsx(t,{children:r.projectId}),e.jsx(t,{children:r.procurementId}),e.jsx(t,{children:r.purchaseOrderId}),e.jsx(t,{children:r.logisticId}),e.jsx(t,{children:r.transportId}),e.jsx(t,{children:r.vehicleDetails}),e.jsx(t,{children:r.driverName}),e.jsx(t,{children:r.dispatchDate}),e.jsx(t,{children:r.expectedArrivalDate}),e.jsx(t,{children:r.actualArrivalDate}),e.jsx(t,{children:r.deliveryLocation}),e.jsx(t,{children:r.shippingStatus}),e.jsx(t,{children:r.damageReport}),e.jsxs(t,{children:[e.jsx(u,{color:"warning",onClick:()=>H(l),children:e.jsx(K,{sx:{color:"orange"}})}),e.jsx(u,{color:"error",onClick:()=>q(l),children:e.jsx(X,{sx:{color:"red"}})})]})]},l))})]})})]})})}),e.jsxs(Q,{open:p,onClose:g,fullWidth:!0,children:[e.jsx(U,{children:"Enter Logistic Details"}),e.jsxs(z,{sx:{position:"relative"},children:[e.jsx(u,{"aria-label":"close",onClick:g,sx:{position:"absolute",right:8,top:8,color:r=>r.palette.grey[500]},children:e.jsx($,{})}),e.jsx(N,{component:"form",sx:{mt:2},children:e.jsxs(s,{container:!0,spacing:3,direction:"column",children:[e.jsxs(s,{item:!0,xs:12,children:[e.jsx("h3",{style:{color:"#7267ef"},children:"Purchase Order & Vendor info.."}),e.jsx("hr",{style:{borderTop:"2px solid #7267ef",width:"80%"}}),e.jsxs(s,{container:!0,spacing:2,children:[e.jsxs(s,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"purchaseOrderId",children:"Purchase Order ID"}),e.jsx("input",{id:"purchaseOrderId",name:"purchaseOrderId",className:"input",value:i.purchaseOrderId||"",disabled:!0})]}),e.jsxs(s,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"projectId",children:"Project ID"}),e.jsx("input",{id:"projectId",name:"projectId",className:"input",value:i.projectId||"",disabled:!0})]}),e.jsxs(s,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"procurementId",children:"Procurement ID"}),e.jsx("input",{id:"procurementId",name:"procurementId",className:"input",value:i.procurementId||"",disabled:!0})]})]})]}),e.jsxs(s,{item:!0,xs:12,children:[e.jsx("h3",{style:{color:"#7267ef"},children:"Transport Information.."}),e.jsx("hr",{style:{borderTop:"2px solid #7267ef",width:"80%"}}),e.jsxs(s,{container:!0,spacing:2,children:[e.jsxs(s,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"transportId",children:"Transport provider Id"}),e.jsx("input",{id:"transportId",name:"transportId",className:"input",value:i.transportId||"",onChange:n})]}),e.jsxs(s,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"vehicleDetails",children:"Vehicle Details"}),e.jsx("input",{id:"vehicleDetails",name:"vehicleDetails",className:"input",value:i.vehicleDetails||"",onChange:n})]}),e.jsxs(s,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"driverName",children:"Driver Name"}),e.jsx("input",{id:"driverName",name:"driverName",className:"input",value:i.driverName||"",onChange:n})]})]})]}),e.jsxs(s,{item:!0,xs:12,children:[e.jsx("h3",{style:{color:"#7267ef"},children:"Shipping Status.."}),e.jsx("hr",{style:{borderTop:"2px solid #7267ef",width:"80%"}}),e.jsxs(s,{container:!0,spacing:2,children:[e.jsxs(s,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"dispatchDate",children:"Dispatch Date"}),e.jsx("input",{id:"dispatchDate",name:"dispatchDate",className:"input",value:i.dispatchDate||"",onChange:n})]}),e.jsxs(s,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"expectedArrivalDate",children:"Expected Arrival Date"}),e.jsx("input",{type:"date",id:"expectedArrivalDate",name:"expectedArrivalDate",className:"input",value:i.expectedArrivalDate||"",onChange:n})]}),e.jsxs(s,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"actualArrivalDate",children:"Actual Arrival Date"}),e.jsx("input",{type:"date",id:"actualArrivalDate",name:"actualArrivalDate",className:"input",value:i.actualArrivalDate||"",onChange:n})]}),e.jsxs(s,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"deliveryLocation",children:"Delivery Location"}),e.jsx("input",{type:"date",id:"deliveryLocation",name:"deliveryLocation",className:"input",value:i.deliveryLocation||"",onChange:n})]}),e.jsxs(s,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"shippingStatus",children:"Shipping Status"}),e.jsxs("select",{id:"shippingStatus",name:"shippingStatus",className:"input",value:i.shippingStatus||"",onChange:n,children:[e.jsx("option",{value:"",children:"Select Status"})," ",e.jsx("option",{value:"Issued",children:"In Transit"}),e.jsx("option",{value:"In Progress",children:"Delivered "}),e.jsx("option",{value:"Delivered",children:"Delayed"}),e.jsx("option",{value:"Canceled",children:"Canceled"})]})]}),e.jsxs(s,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"damageReport",children:"Damage Report"}),e.jsx("input",{id:"damageReport",name:"damageReport",className:"input",value:i.damageReport||"",onChange:n})]})]})]})]})})]}),e.jsxs(Y,{children:[e.jsx(T,{onClick:g,sx:{outline:"2px solid #800000",color:"#800000","&:hover":{outline:"2px solid #b30000",color:"#b30000"}},children:"Cancel"}),e.jsx(T,{variant:"outlined",onClick:B,sx:{borderColor:"#7267ef",color:"#7267ef","&:hover":{borderColor:"#9e8df2",color:"#9e8df2"}},children:"Submit"})]})]})]})};export{de as default};
