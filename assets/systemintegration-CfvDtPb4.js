import{r as i,j as e}from"./main-DTv03d8r.js";import{C as M}from"./Close-BAEP8ymL.js";import{T as C,H as v,v as T,w as k,x as d,y as t,z as R,I as x,D as G,r as Y,t as Q,q as w}from"./TableRow-DyRCyY9b.js";import{G as s}from"./Grid-C5mdLuvI.js";import{B as E}from"./Box-CyTnG5kx.js";import{A as $}from"./AddCircle-Br8tjFgv.js";import{T as q}from"./TableContainer-DOhr4ZW5.js";import{E as z,D as U}from"./Edit-DGVU-IuU.js";import{D as W}from"./DialogActions-CMm5oWDU.js";import"./Transition-ChWAEdMD.js";const K=[{id:"PRJ-2025-001"},{id:"PRJ-2025-002"},{id:"PRJ-2025-003"}],ie=()=>{const[y,F]=i.useState(""),[I,N]=i.useState(""),[P,m]=i.useState(!1),[b,D]=i.useState(""),[o,c]=i.useState({}),[l,h]=i.useState([]),[j,u]=i.useState(!1),[L,f]=i.useState(null),A=n=>{D(n);const r=new Date().getFullYear(),g=(l.length+1).toString().padStart(3,"0");c({systemmanagementID:`FIN-${r}-${g}`,projectId:n}),u(!1),f(null),m(!0)},B=n=>{c(n),D(n.projectId),u(!0),f(n.systemmanagementID),m(!0)},O=n=>{window.confirm("Are you sure you want to delete system integration and final report!")&&h(l.filter(r=>r.systemmanagementID!==n))},a=()=>{m(!1),c({}),u(!1),f(null)},p=n=>{const{name:r,value:S}=n.target;c(g=>({...g,[r]:S}))},H=()=>{const n={...o,handoverConfirmation:o.handoverConfirmation?"T":"F",complianceConfirmation:o.complianceConfirmation?"T":"F"};if(j)h(l.map(r=>r.systemmanagementID===L?n:r));else{const r={...n,projectId:b};h([...l,r])}a()},J=l.filter(n=>Object.values(n).some(r=>r&&r.toString().toLowerCase().includes(I.toLowerCase())));return e.jsxs(e.Fragment,{children:[e.jsx(C,{variant:"h5",gutterBottom:!0,sx:{mt:5},children:"System Integration & Certification"}),e.jsx(s,{container:!0,spacing:2,direction:"column",sx:{mb:2},children:e.jsx(s,{item:!0,xs:12,children:e.jsxs(v,{sx:{p:2,backgroundColor:"#fff",border:"1px solid #ccc"},children:[e.jsx(C,{variant:"h6",gutterBottom:!0,children:"PROJECT RECORDS"}),e.jsx(E,{sx:{my:2,mx:1},children:e.jsx("input",{type:"text",placeholder:"Search Project ID",value:y,onChange:n=>F(n.target.value),className:"input",style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:4}})}),e.jsxs(T,{children:[e.jsx(k,{children:e.jsxs(d,{children:[e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Project ID"})}),e.jsx(t,{sx:{display:"flex",justifyContent:"flex-end",color:"#660000"},children:e.jsx("strong",{children:"Action"})})]})}),e.jsx(R,{children:K.filter(n=>n.id.toLowerCase().includes(y.toLowerCase())).map((n,r)=>e.jsxs(d,{children:[e.jsx(t,{children:n.id}),e.jsx(t,{sx:{display:"flex",justifyContent:"flex-end"},children:e.jsx(x,{onClick:()=>A(n.id),color:"primary",children:e.jsx($,{sx:{color:"#7267ef"}})})})]},r))})]})]})})}),e.jsx(s,{container:!0,spacing:2,children:e.jsx(s,{item:!0,xs:12,children:e.jsxs(v,{sx:{p:2,backgroundColor:"#fff",border:"1px solid #ccc"},children:[e.jsx(C,{variant:"h6",gutterBottom:!0,children:"SYSTEM INTEGRATION & CERTIFICATION DETAILS"}),e.jsx("input",{type:"text",placeholder:"Search System integration & certification",value:I,onChange:n=>N(n.target.value),className:"input",style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:4,marginBottom:"16px"}}),e.jsx(q,{sx:{maxHeight:400,overflow:"auto",border:"1px solid #ddd"},children:e.jsxs(T,{stickyHeader:!0,children:[e.jsx(k,{children:e.jsxs(d,{children:[e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Project ID"})}),e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Final Report ID"})}),e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Testing & Inspection"})}),e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Defect Rectification Report"})}),e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Handover Confirmation"})}),e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Compliance Confirmation"})}),e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Archival Document Link"})}),e.jsx(t,{sx:{color:"#660000"},children:e.jsx("strong",{children:"Actions"})})]})}),e.jsx(R,{children:J.map((n,r)=>e.jsxs(d,{children:[e.jsx(t,{children:n.projectId}),e.jsx(t,{children:n.systemmanagementID}),e.jsx(t,{children:n.testingInfo}),e.jsx(t,{children:n.defectRectification}),e.jsx(t,{children:n.handoverConfirmation}),e.jsx(t,{children:n.complianceConfirmation}),e.jsx(t,{children:n.documentLink}),e.jsxs(t,{children:[e.jsx(x,{onClick:()=>B(n),color:"warning",children:e.jsx(z,{sx:{color:"orange"}})}),e.jsx(x,{onClick:()=>O(n.systemmanagementID),color:"error",children:e.jsx(U,{sx:{color:"red"}})})]})]},r))})]})})]})})}),e.jsxs(G,{open:P,onClose:a,fullWidth:!0,children:[e.jsx(Y,{children:j?"Edit System Integration Details":"Enter System Integration Details"}),e.jsxs(Q,{sx:{position:"relative"},children:[e.jsx(x,{"aria-label":"close",onClick:a,sx:{position:"absolute",right:8,top:8,color:n=>n.palette.grey[500]},children:e.jsx(M,{})}),e.jsx(E,{component:"form",sx:{mt:2},children:e.jsxs(s,{container:!0,spacing:3,direction:"column",children:[e.jsxs(s,{item:!0,xs:12,children:[e.jsx("h3",{style:{color:"#7267ef"},children:"Project Information"}),e.jsx("hr",{style:{borderTop:"2px solid #7267ef",width:"80%"}}),e.jsxs(s,{container:!0,spacing:2,children:[e.jsxs(s,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"projectId",children:"Project ID"}),e.jsx("input",{id:"projectId",className:"input",value:b,disabled:!0})]}),e.jsxs(s,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"systemmanagementID",children:"Final Report ID"}),e.jsx("input",{id:"systemmanagementID",className:"input",value:o.systemmanagementID||"",disabled:!0})]})]})]}),e.jsxs(s,{item:!0,xs:12,children:[e.jsx("h3",{style:{color:"#7267ef"},children:"Summary of Testing"}),e.jsx("hr",{style:{borderTop:"2px solid #7267ef",width:"80%"}}),e.jsxs(s,{container:!0,spacing:2,children:[e.jsxs(s,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"testingInfo",children:"Testing Info"}),e.jsx("input",{id:"testingInfo",name:"testingInfo",className:"input",value:o.testingInfo||"",onChange:p})]}),e.jsxs(s,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"defectRectification",children:"Defect Rectification"}),e.jsx("input",{id:"defectRectification",name:"defectRectification",className:"input",value:o.defectRectification||"",onChange:p})]}),e.jsx(s,{item:!0,xs:6,children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",name:"handoverConfirmation",checked:o.handoverConfirmation||!1,onChange:n=>c({...o,handoverConfirmation:n.target.checked})})," Handover Confirmation"]})}),e.jsx(s,{item:!0,xs:6,children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",name:"complianceConfirmation",checked:o.complianceConfirmation||!1,onChange:n=>c({...o,complianceConfirmation:n.target.checked})})," Compliance Confirmation"]})})]}),e.jsxs(s,{item:!0,xs:12,children:[e.jsx("h3",{style:{color:"#7267ef"},children:"Document Info.."}),e.jsx("hr",{style:{borderTop:"2px solid #7267ef",width:"80%"}}),e.jsx(s,{container:!0,spacing:2,children:e.jsxs(s,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"documentLink",children:"Document Link"}),e.jsx("input",{id:"documentLink",name:"documentLink",className:"input",value:o.documentLink||"",onChange:p})]})})]})]})]})})]}),e.jsxs(W,{children:[e.jsx(w,{onClick:a,sx:{outline:"2px solid #800000",color:"#800000","&:hover":{outline:"2px solid #b30000",color:"#b30000"}},children:"Cancel"}),e.jsx(w,{variant:"outlined",onClick:H,sx:{borderColor:"#7267ef",color:"#7267ef","&:hover":{borderColor:"#9e8df2",color:"#9e8df2"}},children:j?"Update":"Submit"})]})]})]})};export{ie as default};
