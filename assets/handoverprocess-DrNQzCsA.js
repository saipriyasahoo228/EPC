import{r as l,j as e}from"./main-DTv03d8r.js";import{C as G}from"./Close-BAEP8ymL.js";import{T as f,H as y,v as T,w as P,x,y as r,z as w,I as h,D as J,r as Q,t as Y,q as H}from"./TableRow-DyRCyY9b.js";import{G as n}from"./Grid-C5mdLuvI.js";import{B as N}from"./Box-CyTnG5kx.js";import{A as $}from"./AddCircle-Br8tjFgv.js";import{T as q}from"./TableContainer-DOhr4ZW5.js";import{E as z,D as U}from"./Edit-DGVU-IuU.js";import{D as W}from"./DialogActions-CMm5oWDU.js";import"./Transition-ChWAEdMD.js";const K=[{id:"PRJ-2025-001"},{id:"PRJ-2025-002"},{id:"PRJ-2025-003"}],ie=()=>{const[D,E]=l.useState(""),[b,F]=l.useState(""),[A,u]=l.useState(!1),[C,I]=l.useState(""),[o,c]=l.useState({}),[a,p]=l.useState([]),[j,m]=l.useState(!1),[L,v]=l.useState(null),R=s=>{I(s);const t=new Date().getFullYear(),g=(a.length+1).toString().padStart(3,"0");c({handoverprocessID:`HND-${t}-${g}`,projectId:s}),m(!1),v(null),u(!0)},k=s=>{c(s),I(s.projectId),m(!0),v(s.handoverprocessID),u(!0)},B=s=>{window.confirm("Are you sure you want to delete this handover process!")&&p(a.filter(t=>t.handoverprocessID!==s))},d=()=>{u(!1),c({}),m(!1),v(null)},i=s=>{const{name:t,value:S}=s.target;c(g=>({...g,[t]:S}))},M=()=>{if(j)p(a.map(s=>s.handoverprocessID===L?o:s));else{const s={...o,projectId:C};p([...a,s])}d()},O=a.filter(s=>Object.values(s).some(t=>t&&t.toString().toLowerCase().includes(b.toLowerCase())));return e.jsxs(e.Fragment,{children:[e.jsx(f,{variant:"h5",gutterBottom:!0,sx:{mt:5},children:"Testing & Inspection"}),e.jsx(n,{container:!0,spacing:2,direction:"column",sx:{mb:2},children:e.jsx(n,{item:!0,xs:12,children:e.jsxs(y,{sx:{p:2,backgroundColor:"#fff",border:"1px solid #ccc"},children:[e.jsx(f,{variant:"h6",gutterBottom:!0,children:"PROJECT RECORDS"}),e.jsx(N,{sx:{my:2,mx:1},children:e.jsx("input",{type:"text",placeholder:"Search Project ID",value:D,onChange:s=>E(s.target.value),className:"input",style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:4}})}),e.jsxs(T,{children:[e.jsx(P,{children:e.jsxs(x,{children:[e.jsx(r,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Project ID"})}),e.jsx(r,{sx:{display:"flex",justifyContent:"flex-end",color:"#660000"},children:e.jsx("strong",{children:"Action"})})]})}),e.jsx(w,{children:K.filter(s=>s.id.toLowerCase().includes(D.toLowerCase())).map((s,t)=>e.jsxs(x,{children:[e.jsx(r,{children:s.id}),e.jsx(r,{sx:{display:"flex",justifyContent:"flex-end"},children:e.jsx(h,{onClick:()=>R(s.id),color:"primary",children:e.jsx($,{sx:{color:"#7267ef"}})})})]},t))})]})]})})}),e.jsx(n,{container:!0,spacing:2,children:e.jsx(n,{item:!0,xs:12,children:e.jsxs(y,{sx:{p:2,backgroundColor:"#fff",border:"1px solid #ccc"},children:[e.jsx(f,{variant:"h6",gutterBottom:!0,children:"TESTING MANAGEMENT DETAILS"}),e.jsx("input",{type:"text",placeholder:"Search Handover Process",value:b,onChange:s=>F(s.target.value),className:"input",style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:4,marginBottom:"16px"}}),e.jsx(q,{sx:{maxHeight:400,overflow:"auto",border:"1px solid #ddd"},children:e.jsxs(T,{stickyHeader:!0,children:[e.jsx(P,{children:e.jsxs(x,{children:[e.jsx(r,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Project ID"})}),e.jsx(r,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Handover ID"})}),e.jsx(r,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Handover Date"})}),e.jsx(r,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Receiving Department"})}),e.jsx(r,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Handover Document ID"})}),e.jsx(r,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"System/Component List"})}),e.jsx(r,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Training Provided"})}),e.jsx(r,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Training Documentation"})}),e.jsx(r,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Pending Issues"})}),e.jsx(r,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Final Approval"})}),e.jsx(r,{sx:{color:"#660000"},children:e.jsx("strong",{children:"Actions"})})]})}),e.jsx(w,{children:O.map((s,t)=>e.jsxs(x,{children:[e.jsx(r,{children:s.projectId}),e.jsx(r,{children:s.handoverprocessID}),e.jsx(r,{children:s.handoverDate}),e.jsx(r,{children:s.receivingDepartment}),e.jsx(r,{children:s.handoverDocID}),e.jsx(r,{children:s.componentList}),e.jsx(r,{children:s.trainingprovided}),e.jsx(r,{children:s.document}),e.jsx(r,{children:s.issues}),e.jsx(r,{children:s.approvalStatus}),e.jsxs(r,{children:[e.jsx(h,{onClick:()=>k(s),color:"warning",children:e.jsx(z,{sx:{color:"orange"}})}),e.jsx(h,{onClick:()=>B(s.handoverprocessID),color:"error",children:e.jsx(U,{sx:{color:"red"}})})]})]},t))})]})})]})})}),e.jsxs(J,{open:A,onClose:d,fullWidth:!0,children:[e.jsx(Q,{children:j?"Edit Safety Management Details":"Enter Safety Management Details"}),e.jsxs(Y,{sx:{position:"relative"},children:[e.jsx(h,{"aria-label":"close",onClick:d,sx:{position:"absolute",right:8,top:8,color:s=>s.palette.grey[500]},children:e.jsx(G,{})}),e.jsx(N,{component:"form",sx:{mt:2},children:e.jsxs(n,{container:!0,spacing:3,direction:"column",children:[e.jsxs(n,{item:!0,xs:12,children:[e.jsx("h3",{style:{color:"#7267ef"},children:"Project Information"}),e.jsx("hr",{style:{borderTop:"2px solid #7267ef",width:"80%"}}),e.jsxs(n,{container:!0,spacing:2,children:[e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"projectId",children:"Project ID"}),e.jsx("input",{id:"projectId",className:"input",value:C,disabled:!0})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"handoverprocessID",children:"Handover ID"}),e.jsx("input",{id:"handoverprocessID",className:"input",value:o.handoverprocessID||"",disabled:!0})]})]})]}),e.jsxs(n,{item:!0,xs:12,children:[e.jsx("h3",{style:{color:"#7267ef"},children:"Handover Information"}),e.jsx("hr",{style:{borderTop:"2px solid #7267ef",width:"80%"}}),e.jsxs(n,{container:!0,spacing:2,children:[e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"handoverDate",children:"Handover Date"}),e.jsx("input",{type:"date",id:"handoverDate",name:"handoverDate",className:"input",value:o.handoverDate||"",onChange:i})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"receivingDepartment",children:"Recieving Department"}),e.jsx("input",{id:"receivingDepartment",name:"receivingDepartment",className:"input",value:o.receivingDepartment||"",onChange:i})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"handoverDocID",children:"Handover DocumentID"}),e.jsx("input",{id:"handoverDocID",name:"handoverDocID",className:"input",value:o.handoverDocID||"",onChange:i})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"componentList",children:"System/Component List"}),e.jsx("input",{id:"componentList",name:"componentList",className:"input",value:o.componentList||"",onChange:i})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"trainingprovided",children:"Training Provided"}),e.jsx("input",{id:"trainingprovided",name:"trainingprovided",className:"input",value:o.trainingprovided||"",onChange:i})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"document",children:"Training Documentation"}),e.jsx("input",{id:"document",name:"document",className:"input",value:o.document||"",onChange:i})]})]}),e.jsxs(n,{item:!0,xs:12,children:[e.jsx("h3",{style:{color:"#7267ef"},children:"Pending Issues & Final Status"}),e.jsx("hr",{style:{borderTop:"2px solid #7267ef",width:"80%"}}),e.jsxs(n,{container:!0,spacing:2,children:[e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"issues",children:"Pending Issues"}),e.jsx("input",{id:"issues",name:"issues",className:"input",value:o.issues||"",onChange:i})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"approvalStatus",children:"Approval Status"}),e.jsxs("select",{id:"approvalStatus",name:"approvalStatus",className:"input",value:o.approvalStatus||"",onChange:i,children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"Approved",children:"Approved"}),e.jsx("option",{value:"Conditional",children:"Conditional"}),e.jsx("option",{value:"Pending",children:"Pending"})]})]})]})]})]})]})})]}),e.jsxs(W,{children:[e.jsx(H,{onClick:d,sx:{outline:"2px solid #800000",color:"#800000","&:hover":{outline:"2px solid #b30000",color:"#b30000"}},children:"Cancel"}),e.jsx(H,{variant:"outlined",onClick:M,sx:{borderColor:"#7267ef",color:"#7267ef","&:hover":{borderColor:"#9e8df2",color:"#9e8df2"}},children:j?"Update":"Submit"})]})]})]})};export{ie as default};
