import{r as i,j as e}from"./main-DTv03d8r.js";import{C as R}from"./Close-BAEP8ymL.js";import{T as g,H as S,v as b,w as y,x as u,y as t,z as C,I as m,D as A,r as H,t as G,q as B}from"./TableRow-DyRCyY9b.js";import{G as n}from"./Grid-C5mdLuvI.js";import{B as M}from"./Box-CyTnG5kx.js";import{A as K}from"./AddCircle-Br8tjFgv.js";import{T as Q}from"./TableContainer-DOhr4ZW5.js";import{E as Y,D as $}from"./Edit-DGVU-IuU.js";import{D as q}from"./DialogActions-CMm5oWDU.js";import"./Transition-ChWAEdMD.js";const z=[{id:"ITM-2025-001"},{id:"ITM-2025-002"},{id:"ITM-2025-003"}],oe=()=>{const[k,T]=i.useState(""),[I,v]=i.useState(""),[D,j]=i.useState(!1),[w,f]=i.useState(""),[r,x]=i.useState({}),[l,p]=i.useState([]),F=s=>{const o=new Date().getFullYear();f(s),x({itemId:s,stockManagementId:`STK-${o}-${l.length+1}`}),j(!0)},h=()=>{x({}),j(!1)},a=s=>{const{name:o,value:c}=s.target,d={...r,[o]:c},V=parseFloat(o==="openingStock"?c:r.openingStock)||0,L=parseFloat(o==="stockIssued"?c:r.stockIssued)||0;d.stockBalance=(V-L).toString(),x(d)},N=()=>{const s={...r,itemId:w};if(l.find(c=>c.stockManagementId===s.stockManagementId)){const c=l.map(d=>d.stockManagementId===s.stockManagementId?s:d);p(c)}else p([...l,s]);h()},E=s=>{x({...s}),f(s.itemId),j(!0)},O=s=>{const o=l.filter(c=>c.stockManagementId!==s);p(o)},U=l.filter(s=>Object.values(s).some(o=>o&&o.toString().toLowerCase().includes(I.toLowerCase())));return e.jsxs(e.Fragment,{children:[e.jsx(g,{variant:"h5",gutterBottom:!0,sx:{mt:5},children:"Stock Management"}),e.jsx(n,{container:!0,spacing:2,direction:"column",sx:{mb:2},children:e.jsx(n,{item:!0,xs:12,children:e.jsxs(S,{sx:{p:2,backgroundColor:"#fff",border:"1px solid #ccc"},children:[e.jsx(g,{variant:"h6",gutterBottom:!0,children:"ITEM RECORDS"}),e.jsx(M,{sx:{my:2,mx:1},children:e.jsx("input",{type:"text",placeholder:"Search Item ID",value:k,onChange:s=>T(s.target.value),className:"input",style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:4}})}),e.jsxs(b,{children:[e.jsx(y,{children:e.jsxs(u,{children:[e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Item ID"})}),e.jsx(t,{sx:{display:"flex",justifyContent:"flex-end",color:"#660000"},children:e.jsx("strong",{children:"Action"})})]})}),e.jsx(C,{children:z.filter(s=>s.id.toLowerCase().includes(k.toLowerCase())).map((s,o)=>e.jsxs(u,{children:[e.jsx(t,{children:s.id}),e.jsx(t,{sx:{display:"flex",justifyContent:"flex-end"},children:e.jsx(m,{onClick:()=>F(s.id),color:"primary",children:e.jsx(K,{sx:{color:"#7267ef"}})})})]},o))})]})]})})}),e.jsx(n,{container:!0,spacing:2,children:e.jsx(n,{item:!0,xs:12,children:e.jsxs(S,{sx:{p:2,backgroundColor:"#fff",border:"1px solid #ccc"},children:[e.jsx(g,{variant:"h6",gutterBottom:!0,children:"SUBMITTED STOCKS"}),e.jsx("input",{type:"text",placeholder:"Search Stock Management",value:I,onChange:s=>v(s.target.value),className:"input",style:{width:"100%",padding:"8px",marginBottom:"1rem",border:"1px solid #ccc",borderRadius:4}}),e.jsx(Q,{sx:{maxHeight:400,overflow:"auto",border:"1px solid #ddd"},children:e.jsxs(b,{stickyHeader:!0,children:[e.jsx(y,{children:e.jsxs(u,{children:[e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Item ID"})}),e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Stock ID"})}),e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Opening Stock"})}),e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Stock Issued"})}),e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Stock Issued By"})}),e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Stock Balance"})}),e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Stock Valuation"})}),e.jsx(t,{sx:{color:"#7267ef"},children:e.jsx("strong",{children:"Last Updated"})}),e.jsx(t,{sx:{color:"#660000"},children:e.jsx("strong",{children:"Actions"})})]})}),e.jsx(C,{children:U.map((s,o)=>e.jsxs(u,{children:[e.jsx(t,{children:s.itemId}),e.jsx(t,{children:s.stockManagementId}),e.jsx(t,{children:s.openingStock}),e.jsx(t,{children:s.stockIssued}),e.jsx(t,{children:s.stockIssuedBy}),e.jsx(t,{children:s.stockBalance}),e.jsx(t,{children:s.stockValuation}),e.jsx(t,{children:s.lastUpdated}),e.jsxs(t,{children:[e.jsx(m,{color:"warning",onClick:()=>E(s),children:e.jsx(Y,{sx:{color:"orange"}})}),e.jsx(m,{color:"error",onClick:()=>O(s.stockManagementId),children:e.jsx($,{sx:{color:"red"}})})]})]},o))})]})})]})})}),e.jsxs(A,{open:D,onClose:h,fullWidth:!0,children:[e.jsx(H,{children:"Enter Stock Management Details"}),e.jsxs(G,{sx:{position:"relative"},children:[e.jsx(m,{"aria-label":"close",onClick:h,sx:{position:"absolute",right:8,top:8,color:s=>s.palette.grey[500]},children:e.jsx(R,{})}),e.jsx(M,{component:"form",sx:{mt:2},children:e.jsxs(n,{container:!0,spacing:3,direction:"column",children:[e.jsxs(n,{item:!0,xs:12,children:[e.jsx("h3",{style:{color:"#7267ef"},children:"Stock Id's Information"}),e.jsx("hr",{style:{borderTop:"2px solid #7267ef",width:"80%"}}),e.jsxs(n,{container:!0,spacing:2,children:[e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"itemId",children:"Item ID"}),e.jsx("input",{id:"itemId",name:"itemId",className:"input",value:r.itemId||"",disabled:!0})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"stockManagementId",children:"Stock Id"}),e.jsx("input",{id:"stockManagementId",name:"stockManagementId",className:"input",value:r.stockManagementId||"",disabled:!0})]})]})]}),e.jsxs(n,{item:!0,xs:12,children:[e.jsx("h3",{style:{color:"#7267ef"},children:"Stock Information"}),e.jsx("hr",{style:{borderTop:"2px solid #7267ef",width:"80%"}}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"openingStock",children:"Opening Stock"}),e.jsx("input",{id:"openingStock",name:"openingStock",className:"input",value:r.openingStock||"",onChange:a,type:"number"})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"stockIssued",children:"Stock Issued"}),e.jsx("input",{type:"number",id:"stockIssued",name:"stockIssued",className:"input",value:r.stockIssued||"",onChange:a})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"stockIssuedBy",children:"Stock Issued By"}),e.jsx("input",{id:"stockIssuedBy",name:"stockIssuedBy",className:"input",value:r.stockIssuedBy||"",onChange:a})]})]}),e.jsxs(n,{item:!0,xs:12,children:[e.jsx("h3",{style:{color:"#7267ef"},children:"Stock Balance and Valuations"}),e.jsx("hr",{style:{borderTop:"2px solid #7267ef",width:"80%"}}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"stockBalance",children:"Stock Balance"}),e.jsx("input",{id:"stockBalance",name:"stockBalance",className:"input",value:r.stockBalance||"",onChange:a,readOnly:!0})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"stockValuation",children:"Stock Valuation"}),e.jsx("input",{id:"stockValuation",name:"stockValuation",className:"input",value:r.stockValuation||"",onChange:a})]}),e.jsxs(n,{item:!0,xs:6,children:[e.jsx("label",{htmlFor:"lastUpdated",children:"Last Updated "}),e.jsx("input",{type:"date",id:"lastUpdated",name:"lastUpdated",className:"input",value:r.lastUpdated||"",onChange:a})]})]})]})})]}),e.jsxs(q,{children:[e.jsx(B,{onClick:h,sx:{outline:"2px solid #800000",color:"#800000","&:hover":{outline:"2px solid #b30000",color:"#b30000"}},children:"Cancel"}),e.jsx(B,{variant:"outlined",onClick:N,sx:{borderColor:"#7267ef",color:"#7267ef","&:hover":{borderColor:"#9e8df2",color:"#9e8df2"}},children:"Submit"})]})]})]})};export{oe as default};
