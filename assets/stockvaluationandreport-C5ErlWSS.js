import{r as n,j as e}from"./main-DTv03d8r.js";import{q as j,D as B,r as O,t as W,T as c,v as N,w as L,x as k,y as s,z as G,I as C}from"./TableRow-DyRCyY9b.js";import{G as r}from"./Grid-C5mdLuvI.js";import{D as q}from"./DialogActions-CMm5oWDU.js";import{B as z}from"./Box-CyTnG5kx.js";import{E as H,D as U}from"./Edit-DGVU-IuU.js";import"./Transition-ChWAEdMD.js";const $=()=>{const[T,i]=n.useState(!1),[x,p]=n.useState(null),[l,m]=n.useState({valuationMethod:"",stockValue:"",stockTurnoverRatio:"",lowStockAlerts:!1,excessStockAlerts:!1,monthlyStockReport:""}),[u,f]=n.useState([]),A=n.useRef(null),v=n.useRef(null),y=n.useRef(null),R=n.useRef(null),g=n.useRef(null),S=n.useRef(null),a=t=>{var D;const{name:o,value:b,type:h,checked:M,files:E}=t.target,F=h==="checkbox"?M:h==="file"?(D=E[0])==null?void 0:D.name:b;m(K=>({...K,[o]:F}))},d=(t,o)=>{t.key==="Enter"&&(t.preventDefault(),o&&o.current&&o.current.focus())},w=()=>{if(x!==null){const t=[...u];t[x]=l,f(t),p(null)}else f(t=>[...t,l]);m({valuationMethod:"",stockValue:"",stockTurnoverRatio:"",lowStockAlerts:!1,excessStockAlerts:!1,monthlyStockReport:""}),i(!1)},I=t=>{m(u[t]),p(t),i(!0)},V=t=>{const o=u.filter((b,h)=>h!==t);f(o)};return e.jsxs(e.Fragment,{children:[e.jsx(j,{variant:"contained",onClick:()=>i(!0),sx:{backgroundColor:"#7267ef",mt:4},children:"Add Inventory Valuation"}),e.jsxs(B,{open:T,onClose:()=>i(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(O,{children:"Inventory Valuation & Reporting"}),e.jsx(W,{dividers:!0,children:e.jsxs(r,{container:!0,spacing:2,direction:"column",children:[e.jsxs(r,{item:!0,children:[e.jsx(c,{variant:"subtitle2",children:"Valuation Method"}),e.jsxs("select",{name:"valuationMethod",className:"input",value:l.valuationMethod,onChange:a,onKeyDown:t=>d(t,v),ref:A,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"FIFO",children:"FIFO"}),e.jsx("option",{value:"LIFO",children:"LIFO"}),e.jsx("option",{value:"Weighted Average",children:"Weighted Average"})]})]}),e.jsxs(r,{item:!0,children:[e.jsx(c,{variant:"subtitle2",children:"Stock Value"}),e.jsx("input",{name:"stockValue",type:"number",value:l.stockValue,onChange:a,className:"input",onKeyDown:t=>d(t,y),ref:v})]}),e.jsxs(r,{item:!0,children:[e.jsx(c,{variant:"subtitle2",children:"Stock Turnover Ratio"}),e.jsx("input",{name:"stockTurnoverRatio",type:"number",value:l.stockTurnoverRatio,onChange:a,className:"input",onKeyDown:t=>d(t,R),ref:y})]}),e.jsx(r,{item:!0,children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",name:"lowStockAlerts",checked:l.lowStockAlerts,onChange:a,onKeyDown:t=>d(t,g),ref:R,style:{marginRight:"8px"}}),"Low Stock Alerts"]})}),e.jsx(r,{item:!0,children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",name:"excessStockAlerts",checked:l.excessStockAlerts,onChange:a,onKeyDown:t=>d(t,S),ref:g,style:{marginRight:"8px"}}),"Excess Stock Alerts"]})}),e.jsxs(r,{item:!0,children:[e.jsx(c,{variant:"subtitle2",children:"Monthly Stock Report"}),e.jsx("input",{type:"file",name:"monthlyStockReport",onChange:a,onKeyDown:t=>{t.key==="Enter"&&t.preventDefault()},ref:S,style:{marginTop:"5px"}}),l.monthlyStockReport&&e.jsx(c,{variant:"caption",style:{marginTop:"4px",display:"block"},children:l.monthlyStockReport})]})]})}),e.jsxs(q,{children:[e.jsx(j,{onClick:()=>{i(!1),p(null)},sx:{outline:"2px solid #800000",color:"#800000","&:hover":{outline:"2px solid #b30000",color:"#b30000"}},children:"Cancel"}),e.jsx(j,{variant:"outlined",onClick:w,sx:{borderColor:"#7267ef",color:"#7267ef","&:hover":{borderColor:"#9e8df2",color:"#9e8df2"}},children:x!==null?"Update":"Submit"})]})]}),e.jsxs(z,{mt:4,sx:{backgroundColor:"#fff",p:2,borderRadius:2,boxShadow:1},children:[e.jsx(c,{variant:"h6",gutterBottom:!0,children:"Inventory Reports"}),e.jsxs(N,{children:[e.jsx(L,{children:e.jsx(k,{children:["Valuation Method","Stock Value","Turnover Ratio","Monthly Report","Actions"].map((t,o)=>e.jsx(s,{sx:{color:"#7267ef",fontWeight:"bold"},children:t},o))})}),e.jsx(G,{children:u.length>0?u.map((t,o)=>e.jsxs(k,{children:[e.jsx(s,{children:t.valuationMethod}),e.jsx(s,{children:t.stockValue}),e.jsx(s,{children:t.stockTurnoverRatio}),e.jsx(s,{children:t.monthlyStockReport}),e.jsxs(s,{children:[e.jsx(C,{onClick:()=>I(o),sx:{color:"warning"},children:e.jsx(H,{sx:{color:"orange"}})}),e.jsx(C,{onClick:()=>V(o),sx:{color:"error"},children:e.jsx(U,{sx:{color:"red"}})})]})]},o)):e.jsx(k,{children:e.jsx(s,{colSpan:5,align:"center",children:"No inventory reports added yet."})})})]})]})]})};export{$ as default};
